var G=Object.defineProperty;var X=(a,r,n)=>r in a?G(a,r,{enumerable:!0,configurable:!0,writable:!0,value:n}):a[r]=n;var O=(a,r,n)=>X(a,typeof r!="symbol"?r+"":r,n);import{r as x,a as Q,R as ee}from"./vendor-DJ1oPbzn.js";import{R as P,L as te,C as U,X as z,Y as B,T as $,a as D,b as L,P as re,c as ae,d as se,B as ne,e as k}from"./charts-DiKAFNsE.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))i(t);new MutationObserver(t=>{for(const l of t)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function n(t){const l={};return t.integrity&&(l.integrity=t.integrity),t.referrerPolicy&&(l.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?l.credentials="include":t.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(t){if(t.ep)return;t.ep=!0;const l=n(t);fetch(t.href,l)}})();var W={exports:{}},F={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ie=x,oe=Symbol.for("react.element"),le=Symbol.for("react.fragment"),ce=Object.prototype.hasOwnProperty,de=ie.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,me={key:!0,ref:!0,__self:!0,__source:!0};function V(a,r,n){var i,t={},l=null,c=null;n!==void 0&&(l=""+n),r.key!==void 0&&(l=""+r.key),r.ref!==void 0&&(c=r.ref);for(i in r)ce.call(r,i)&&!me.hasOwnProperty(i)&&(t[i]=r[i]);if(a&&a.defaultProps)for(i in r=a.defaultProps,r)t[i]===void 0&&(t[i]=r[i]);return{$$typeof:oe,type:a,key:l,ref:c,props:t,_owner:de.current}}F.Fragment=le;F.jsx=V;F.jsxs=V;W.exports=F;var e=W.exports,A={},H=Q;A.createRoot=H.createRoot,A.hydrateRoot=H.hydrateRoot;const C=({options:a,value:r,onChange:n,placeholder:i,className:t=""})=>{const[l,c]=x.useState(!1),u=x.useRef(null),h=a.find(m=>m.value===r);x.useEffect(()=>{const m=f=>{u.current&&!u.current.contains(f.target)&&c(!1)};return document.addEventListener("mousedown",m),()=>{document.removeEventListener("mousedown",m)}},[]);const y=m=>{n(m),c(!1)};return e.jsxs("div",{ref:u,className:`dropdown-container relative ${t}`,children:[e.jsx("button",{type:"button",className:"w-full bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-lg px-4 py-2 text-left shadow-sm focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 hover:border-gray-400 dark:hover:border-gray-500 transition-colors duration-200",onClick:()=>c(!l),children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"min-w-0 flex-1",children:h?e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:h.label}),h.subtitle&&e.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:h.subtitle})]}):e.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:i})}),e.jsx("div",{className:"ml-2 flex-shrink-0",children:e.jsx("svg",{className:`w-4 h-4 text-gray-400 dark:text-gray-500 transition-transform duration-200 ${l?"transform rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})}),l&&e.jsx("div",{className:"absolute w-full mt-1 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-lg shadow-lg dark:shadow-gray-900/20 max-h-60 overflow-auto",style:{zIndex:99999,position:"absolute",top:"100%",left:0,right:0},children:a.map(m=>e.jsxs("button",{type:"button",className:`w-full text-left px-4 py-3 hover:bg-gray-50 dark:hover:bg-gray-700 focus:outline-none focus:bg-gray-50 dark:focus:bg-gray-700 transition-colors duration-150 ${m.value===r?"bg-primary-50 dark:bg-primary-900/20 border-r-2 border-primary-500":""}`,onClick:()=>y(m.value),children:[e.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:m.label}),m.subtitle&&e.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:m.subtitle})]},m.value))})]})},Z=x.createContext(void 0),he=({children:a})=>{const[r,n]=x.useState("light");x.useEffect(()=>{const u=localStorage.getItem("hospitalFinanceTheme"),h=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light",y=u||h;n(y),i(y)},[]),x.useEffect(()=>{const u=window.matchMedia("(prefers-color-scheme: dark)"),h=y=>{if(!localStorage.getItem("hospitalFinanceTheme")){const m=y.matches?"dark":"light";n(m),i(m)}};return u.addEventListener("change",h),()=>u.removeEventListener("change",h)},[]);const i=u=>{const h=document.documentElement;u==="dark"?h.classList.add("dark"):h.classList.remove("dark")},t=u=>{n(u),localStorage.setItem("hospitalFinanceTheme",u),i(u)},c={theme:r,toggleTheme:()=>{t(r==="light"?"dark":"light")},setTheme:t};return e.jsx(Z.Provider,{value:c,children:a})},xe=()=>{const a=x.useContext(Z);if(a===void 0)throw new Error("useTheme must be used within a ThemeProvider");return a},_=({className:a="",size:r="md"})=>{const{theme:n,toggleTheme:i}=xe(),l={sm:"w-4 h-4",md:"w-5 h-5",lg:"w-6 h-6"}[r];return e.jsx("button",{onClick:i,className:`
        p-2 rounded-lg transition-all duration-200 
        bg-gray-100 hover:bg-gray-200 
        dark:bg-gray-700 dark:hover:bg-gray-600 
        text-gray-700 dark:text-gray-300 
        hover:text-gray-900 dark:hover:text-white
        focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 
        dark:focus:ring-offset-gray-800
        ${a}
      `,title:n==="light"?"Switch to dark mode":"Switch to light mode","aria-label":n==="light"?"Switch to dark mode":"Switch to light mode",children:n==="light"?e.jsx("svg",{className:l,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"})}):e.jsx("svg",{className:l,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"})})})},M=[{id:"admin-1",email:"admin@hospitalfinance.com",name:"System Administrator",role:"admin",createdAt:"2024-01-15T08:00:00Z",lastLogin:"2024-12-15T10:30:00Z"},{id:"owner-1",email:"owner@metrogeneral.com",name:"Sarah Johnson",role:"hospital_owner",hospitalIds:["general-1","cardio-1"],createdAt:"2024-02-01T09:00:00Z",lastLogin:"2024-12-14T15:45:00Z"},{id:"owner-2",email:"owner@childrensmed.com",name:"Dr. Michael Chen",role:"hospital_owner",hospitalIds:["pediatric-1"],createdAt:"2024-02-15T10:00:00Z",lastLogin:"2024-12-13T12:20:00Z"},{id:"branch-1",email:"manager@metrogeneral.com",name:"John Doe",role:"branch_owner",hospitalId:"general-1",createdAt:"2024-03-01T11:00:00Z",lastLogin:"2024-12-15T08:15:00Z"},{id:"branch-2",email:"manager@heartcenter.com",name:"Dr. Emily Rodriguez",role:"branch_owner",hospitalId:"cardio-1",createdAt:"2024-03-10T12:00:00Z",lastLogin:"2024-12-14T16:30:00Z"},{id:"branch-3",email:"manager@childrensmed.com",name:"Lisa Thompson",role:"branch_owner",hospitalId:"pediatric-1",createdAt:"2024-03-20T13:00:00Z",lastLogin:"2024-12-12T14:45:00Z"},{id:"branch-4",email:"manager@traumacenter.com",name:"Dr. Robert Kim",role:"branch_owner",hospitalId:"trauma-1",createdAt:"2024-04-01T14:00:00Z",lastLogin:"2024-12-11T11:20:00Z"}],R={signIn:async(a,r)=>{await new Promise(i=>setTimeout(i,1e3));const n=M.find(i=>i.email===a);if(!n)throw new Error("Invalid email or password");if(r.length<6)throw new Error("Invalid email or password");return n.lastLogin=new Date().toISOString(),n},signUp:async a=>{if(await new Promise(i=>setTimeout(i,1200)),M.find(i=>i.email===a.email))throw new Error("User with this email already exists");const n={id:`user-${Date.now()}`,email:a.email,name:a.name,role:a.role,hospitalId:a.hospitalId,hospitalIds:a.hospitalIds,createdAt:new Date().toISOString(),lastLogin:new Date().toISOString()};return M.push(n),n}},T={admin:{title:"System Administrator",description:"Full access to all hospitals and system-wide analytics",permissions:["View all hospitals","Manage users","System configuration"]},hospital_owner:{title:"Hospital Owner",description:"Access to owned hospitals across multiple locations",permissions:["Manage owned hospitals","View financial reports","Manage branch managers"]},branch_owner:{title:"Branch Manager",description:"Access to specific hospital location data only",permissions:["View branch data","Generate reports","Monitor performance"]}},K=x.createContext(void 0),ue=({children:a})=>{const[r,n]=x.useState(null),[i,t]=x.useState(!0);x.useEffect(()=>{const f=localStorage.getItem("hospitalFinanceUser");if(f)try{const o=JSON.parse(f);o&&typeof o=="object"&&"id"in o&&"email"in o?n(o):(console.warn("Invalid user data in localStorage, removing..."),localStorage.removeItem("hospitalFinanceUser"))}catch(o){console.error("Failed to parse stored user data:",o),localStorage.removeItem("hospitalFinanceUser")}t(!1)},[]);const m={user:r,isAuthenticated:!!r,isLoading:i,signIn:async(f,o)=>{t(!0);try{const d=await R.signIn(f,o);if(!d||!d.id||!d.email)throw new Error("Invalid user data received from authentication service");n(d),localStorage.setItem("hospitalFinanceUser",JSON.stringify(d))}catch(d){throw console.error("Sign in failed:",d),d}finally{t(!1)}},signUp:async f=>{t(!0);try{const o=await R.signUp(f);if(!o||!o.id||!o.email)throw new Error("Invalid user data received from registration service");n(o),localStorage.setItem("hospitalFinanceUser",JSON.stringify(o))}catch(o){throw console.error("Sign up failed:",o),o}finally{t(!1)}},signOut:()=>{n(null),localStorage.removeItem("hospitalFinanceUser")},canAccessHospital:f=>{var o;if(!r)return!1;switch(r.role){case"admin":return!0;case"hospital_owner":return((o=r.hospitalIds)==null?void 0:o.includes(f))||!1;case"branch_owner":return r.hospitalId===f;default:return!1}},getAccessibleHospitals:()=>{if(!r)return[];switch(r.role){case"admin":return["general-1","cardio-1","pediatric-1","trauma-1"];case"hospital_owner":return r.hospitalIds||[];case"branch_owner":return r.hospitalId?[r.hospitalId]:[];default:return[]}}};return e.jsx(K.Provider,{value:m,children:a})},N=()=>{const a=x.useContext(K);if(a===void 0)throw new Error("useAuth must be used within an AuthProvider");return a},E=({hospitals:a,selectedHospitalId:r,selectedYear:n,availableYears:i,onHospitalChange:t,onYearChange:l})=>{const{user:c,signOut:u}=N(),[h,y]=x.useState(!1),m=a.map(d=>({value:d.id,label:d.name,subtitle:`${d.type} â€¢ ${d.location}`})),f=i.map(d=>({value:d.toString(),label:d.toString(),subtitle:d===2024?"Current Year":void 0})),o=a.find(d=>d.id===r);return e.jsx("header",{className:"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 transition-colors duration-200 relative overflow-visible",children:e.jsxs("div",{className:"px-4 sm:px-6 lg:px-8 overflow-visible",children:[e.jsxs("div",{className:"flex items-center justify-between min-h-16 py-4 relative",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-8 h-8 bg-primary-600 rounded-lg flex items-center justify-center",children:e.jsx("span",{className:"text-white font-bold text-lg",children:"H"})}),e.jsxs("div",{className:"hidden sm:block",children:[e.jsx("h1",{className:"text-lg sm:text-xl font-bold text-gray-900 dark:text-white",children:"Hospital Finance Dashboard"}),e.jsx("p",{className:"text-xs sm:text-sm text-gray-500 dark:text-gray-400",children:o?`${o.name} â€¢ ${n}`:"Real-time financial insights and analytics"})]}),e.jsx("div",{className:"sm:hidden",children:e.jsx("h1",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"Dashboard"})})]}),e.jsxs("div",{className:"hidden lg:flex items-center space-x-6",children:[e.jsxs("div",{className:"flex items-end space-x-4",children:[e.jsxs("div",{className:"flex flex-col space-y-1",children:[e.jsx("label",{className:"text-xs font-medium text-gray-600 dark:text-gray-400 uppercase tracking-wide",children:"Hospital"}),e.jsx(C,{options:m,value:r,onChange:t,placeholder:"Select Hospital",className:"w-64"})]}),e.jsxs("div",{className:"flex flex-col space-y-1",children:[e.jsx("label",{className:"text-xs font-medium text-gray-600 dark:text-gray-400 uppercase tracking-wide",children:"Year"}),e.jsx(C,{options:f,value:n.toString(),onChange:d=>l(parseInt(d)),placeholder:"Select Year",className:"w-40"})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(_,{}),e.jsx("button",{className:"btn-secondary text-sm","aria-label":"Export financial report",children:"Export Report"}),e.jsx("button",{className:"btn-primary text-sm","aria-label":"Generate financial analysis",children:"Generate Analysis"})]}),e.jsxs("div",{className:"flex items-center space-x-2 pl-4 border-l border-gray-200 dark:border-gray-700",children:[e.jsx("div",{className:"w-8 h-8 bg-primary-600 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-white font-medium text-sm",children:c==null?void 0:c.name.split(" ").map(d=>d[0]).join("").toUpperCase()})}),e.jsxs("div",{className:"text-sm",children:[e.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:c==null?void 0:c.name}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400 capitalize",children:c==null?void 0:c.role.replace("_"," ")})]}),e.jsx("button",{onClick:u,className:"ml-2 text-gray-400 hover:text-gray-600 dark:text-gray-500 dark:hover:text-gray-300 transition-colors",title:"Sign out","aria-label":"Sign out of your account",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})})})]})]}),e.jsxs("div",{className:"lg:hidden flex items-center space-x-2",children:[e.jsx(_,{size:"sm"}),e.jsxs("button",{type:"button",className:"p-2 rounded-md text-gray-400 hover:text-gray-500 hover:bg-gray-100 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-primary-500",onClick:()=>y(!h),"aria-controls":"mobile-menu","aria-expanded":"false",children:[e.jsx("span",{className:"sr-only",children:"Open main menu"}),h?e.jsx("svg",{className:"block h-6 w-6",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})}):e.jsx("svg",{className:"block h-6 w-6",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"})})]})]})]}),e.jsx("div",{className:`lg:hidden ${h?"block":"hidden"}`,id:"mobile-menu",children:e.jsxs("div",{className:"px-2 pt-2 pb-3 space-y-4 border-t border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-800/50",children:[e.jsxs("div",{className:"flex items-center space-x-3 px-3 py-2",children:[e.jsx("div",{className:"w-10 h-10 bg-primary-600 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-white font-medium",children:c==null?void 0:c.name.split(" ").map(d=>d[0]).join("").toUpperCase()})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:c==null?void 0:c.name}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 capitalize",children:c==null?void 0:c.role.replace("_"," ")})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Hospital"}),e.jsx(C,{options:m,value:r,onChange:t,placeholder:"Select Hospital",className:"w-full"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Year"}),e.jsx(C,{options:f,value:n.toString(),onChange:d=>l(parseInt(d)),placeholder:"Select Year",className:"w-full"})]})]}),e.jsxs("div",{className:"space-y-2 pt-4 border-t border-gray-200 dark:border-gray-700",children:[e.jsxs("button",{className:"w-full btn-secondary text-left justify-start","aria-label":"Export financial report",children:[e.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Export Report"]}),e.jsxs("button",{className:"w-full btn-primary text-left justify-start","aria-label":"Generate financial analysis",children:[e.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),"Generate Analysis"]}),e.jsxs("button",{onClick:u,className:"w-full flex items-center px-3 py-2 text-sm text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-md transition-colors","aria-label":"Sign out of your account",children:[e.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),"Sign Out"]})]})]})})]})})},b=a=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(a),j=a=>`${a.toFixed(1)}%`,v=a=>new Intl.NumberFormat("en-US").format(a),ge=a=>a==="increase"?"text-success-600":"text-danger-600",pe=a=>a==="increase"?"â†—":"â†˜",fe=({metric:a})=>{const r=(n,i)=>{switch(i){case"currency":return b(n);case"percentage":return j(n);case"number":return v(n);default:return n.toString()}};return e.jsxs("div",{className:"metric-card",role:"article","aria-labelledby":`metric-title-${a.id}`,"aria-describedby":`metric-change-${a.id}`,children:[e.jsx("div",{className:"flex items-center justify-between mb-2",children:e.jsx("h3",{id:`metric-title-${a.id}`,className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:a.title})}),e.jsx("div",{className:"mb-2",children:e.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white","aria-label":`${a.title} value: ${r(a.value,a.format)}`,children:r(a.value,a.format)})}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsxs("span",{id:`metric-change-${a.id}`,className:`flex items-center ${ge(a.changeType)}`,"aria-label":`${a.changeType==="increase"?"Increased":"Decreased"} by ${j(a.change)} ${a.period}`,children:[e.jsx("span",{className:"mr-1","aria-hidden":"true",children:pe(a.changeType)}),j(a.change)]}),e.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:a.period})]})]})},ye=({data:a})=>{const r=({active:n,payload:i,label:t})=>n&&i&&i.length?e.jsxs("div",{className:"bg-white p-4 border border-gray-200 rounded-lg shadow-lg",children:[e.jsx("p",{className:"font-medium text-gray-900 mb-2",children:`${t} 2024`}),i.map((l,c)=>e.jsx("p",{className:"text-sm",style:{color:l.color},children:`${l.name}: ${b(l.value)}`},c))]}):null;return e.jsxs("div",{className:"card",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Revenue & Expenses Trend"}),e.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-600 dark:text-gray-300",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-3 h-3 bg-primary-500 rounded-full mr-2"}),e.jsx("span",{children:"Revenue"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-3 h-3 bg-danger-500 rounded-full mr-2"}),e.jsx("span",{children:"Expenses"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-3 h-3 bg-success-500 rounded-full mr-2"}),e.jsx("span",{children:"Net Income"})]})]})]}),e.jsx("div",{className:"h-80",children:e.jsx(P,{width:"100%",height:"100%",children:e.jsxs(te,{data:a,margin:{top:5,right:30,left:20,bottom:5},children:[e.jsx(U,{strokeDasharray:"3 3",stroke:"#f1f5f9"}),e.jsx(z,{dataKey:"month",stroke:"#64748b",fontSize:12}),e.jsx(B,{stroke:"#64748b",fontSize:12,tickFormatter:n=>`$${(n/1e6).toFixed(1)}M`}),e.jsx($,{content:e.jsx(r,{})}),e.jsx(D,{}),e.jsx(L,{type:"monotone",dataKey:"revenue",stroke:"#3b82f6",strokeWidth:3,name:"Revenue",dot:{fill:"#3b82f6",strokeWidth:2,r:4}}),e.jsx(L,{type:"monotone",dataKey:"expenses",stroke:"#ef4444",strokeWidth:3,name:"Expenses",dot:{fill:"#ef4444",strokeWidth:2,r:4}}),e.jsx(L,{type:"monotone",dataKey:"netIncome",stroke:"#22c55e",strokeWidth:3,name:"Net Income",dot:{fill:"#22c55e",strokeWidth:2,r:4}})]})})})]})},be=({departments:a})=>e.jsxs("div",{className:"card",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Department Performance"}),e.jsx("button",{className:"btn-secondary text-sm",children:"View Details"})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-gray-200 dark:border-gray-700",children:[e.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-600 dark:text-gray-400",children:"Department"}),e.jsx("th",{className:"text-right py-3 px-4 font-medium text-gray-600 dark:text-gray-400",children:"Revenue"}),e.jsx("th",{className:"text-right py-3 px-4 font-medium text-gray-600 dark:text-gray-400",children:"Expenses"}),e.jsx("th",{className:"text-right py-3 px-4 font-medium text-gray-600 dark:text-gray-400",children:"Profit"}),e.jsx("th",{className:"text-right py-3 px-4 font-medium text-gray-600 dark:text-gray-400",children:"Margin"})]})}),e.jsx("tbody",{children:a.map((r,n)=>e.jsxs("tr",{className:`${n!==a.length-1?"border-b border-gray-100 dark:border-gray-700":""} hover:bg-gray-50 dark:hover:bg-gray-700/50`,children:[e.jsx("td",{className:"py-3 px-4",children:e.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:r.department})}),e.jsx("td",{className:"py-3 px-4 text-right text-gray-900 dark:text-gray-100",children:b(r.revenue)}),e.jsx("td",{className:"py-3 px-4 text-right text-gray-900 dark:text-gray-100",children:b(r.expenses)}),e.jsx("td",{className:"py-3 px-4 text-right",children:e.jsx("span",{className:`font-medium ${r.profit>0?"text-success-600":"text-danger-600"}`,children:b(r.profit)})}),e.jsx("td",{className:"py-3 px-4 text-right",children:e.jsx("span",{className:`font-medium ${r.profitMargin>20?"text-success-600":r.profitMargin>10?"text-warning-600":"text-danger-600"}`,children:j(r.profitMargin)})})]},r.department))})]})})]}),je=({data:a})=>{const r=({active:i,payload:t})=>{if(i&&t&&t.length){const l=t[0].payload;return e.jsxs("div",{className:"bg-white p-4 border border-gray-200 rounded-lg shadow-lg",children:[e.jsx("p",{className:"font-medium text-gray-900 mb-1",children:l.category}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Amount: ",b(l.amount)]}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Percentage: ",j(l.percentage)]})]})}return null},n=({payload:i})=>i?e.jsx("div",{className:"mt-4",children:e.jsx("div",{className:"grid grid-cols-2 gap-2 text-sm",children:i.map((t,l)=>e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-3 h-3 rounded-full mr-2 flex-shrink-0",style:{backgroundColor:t.color}}),e.jsx("span",{className:"text-gray-700 dark:text-gray-300 truncate",children:t.value})]},l))})}):null;return e.jsxs("div",{className:"card",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Expense Breakdown"}),e.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Total: ",b(a.reduce((i,t)=>i+t.amount,0))]})]}),e.jsx("div",{className:"h-80",children:e.jsx(P,{width:"100%",height:"100%",children:e.jsxs(re,{children:[e.jsx(ae,{data:a,cx:"50%",cy:"45%",outerRadius:80,innerRadius:40,paddingAngle:2,dataKey:"amount",children:a.map((i,t)=>e.jsx(se,{fill:i.color},`cell-${t}`))}),e.jsx($,{content:e.jsx(r,{})}),e.jsx(D,{content:e.jsx(n,{})})]})})})]})},ve=({metrics:a})=>{const r=[{label:"Total Patients",value:v(a.totalPatients),icon:"ðŸ‘¥",color:"text-primary-600"},{label:"Inpatients",value:v(a.inpatients),icon:"ðŸ¥",color:"text-success-600"},{label:"Outpatients",value:v(a.outpatients),icon:"ðŸš¶",color:"text-warning-600"},{label:"Emergency Visits",value:v(a.emergencyVisits),icon:"ðŸš¨",color:"text-danger-600"},{label:"Avg Stay Duration",value:`${a.averageStayDuration} days`,icon:"ðŸ“…",color:"text-purple-600"},{label:"Occupancy Rate",value:j(a.occupancyRate),icon:"ðŸ“Š",color:"text-indigo-600"}];return e.jsxs("div",{className:"card",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Patient Metrics"}),e.jsx("button",{className:"btn-secondary text-sm","aria-label":"View detailed patient metrics report",children:"View Report"})]}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",role:"grid","aria-label":"Patient metrics overview",children:r.map((n,i)=>e.jsxs("div",{className:"text-center p-4 bg-gray-50 dark:bg-gray-700/50 rounded-lg",role:"gridcell","aria-labelledby":`metric-label-${i}`,"aria-describedby":`metric-value-${i}`,children:[e.jsx("div",{className:"text-2xl mb-2","aria-hidden":"true",children:n.icon}),e.jsx("div",{id:`metric-value-${i}`,className:`text-lg font-bold ${n.color}`,"aria-label":`${n.label}: ${n.value}`,children:n.value}),e.jsx("div",{id:`metric-label-${i}`,className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:n.label})]},i))})]})},we=({data:a})=>{const r=({active:n,payload:i,label:t})=>n&&i&&i.length?e.jsxs("div",{className:"bg-white p-4 border border-gray-200 rounded-lg shadow-lg",children:[e.jsx("p",{className:"font-medium text-gray-900 mb-2",children:t}),i.map((l,c)=>e.jsx("p",{className:"text-sm",style:{color:l.color},children:`${l.name}: ${b(l.value)}`},c))]}):null;return e.jsxs("div",{className:"card",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Cash Flow Analysis"}),e.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-600 dark:text-gray-300",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-3 h-3 bg-primary-500 rounded-full mr-2"}),e.jsx("span",{children:"Operating"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-3 h-3 bg-warning-500 rounded-full mr-2"}),e.jsx("span",{children:"Investing"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-3 h-3 bg-purple-500 rounded-full mr-2"}),e.jsx("span",{children:"Financing"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-3 h-3 bg-success-500 rounded-full mr-2"}),e.jsx("span",{children:"Net Cash Flow"})]})]})]}),e.jsx("div",{className:"h-80",children:e.jsx(P,{width:"100%",height:"100%",children:e.jsxs(ne,{data:a,margin:{top:20,right:30,left:20,bottom:5},children:[e.jsx(U,{strokeDasharray:"3 3",stroke:"#f1f5f9"}),e.jsx(z,{dataKey:"date",stroke:"#64748b",fontSize:12}),e.jsx(B,{stroke:"#64748b",fontSize:12,tickFormatter:n=>`$${(n/1e6).toFixed(1)}M`}),e.jsx($,{content:e.jsx(r,{})}),e.jsx(D,{}),e.jsx(k,{dataKey:"operatingCashFlow",fill:"#3b82f6",name:"Operating Cash Flow",radius:[2,2,0,0]}),e.jsx(k,{dataKey:"investingCashFlow",fill:"#f59e0b",name:"Investing Cash Flow",radius:[2,2,0,0]}),e.jsx(k,{dataKey:"financingCashFlow",fill:"#8b5cf6",name:"Financing Cash Flow",radius:[2,2,0,0]}),e.jsx(k,{dataKey:"netCashFlow",fill:"#22c55e",name:"Net Cash Flow",radius:[2,2,0,0]})]})})})]})},Y=({size:a="md",text:r="Loading...",subtext:n,className:i=""})=>{const l={sm:"h-6 w-6",md:"h-12 w-12",lg:"h-16 w-16"}[a];return e.jsx("div",{className:`flex items-center justify-center ${i}`,children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:`animate-spin rounded-full ${l} border-b-2 border-primary-600 mx-auto mb-4`}),r&&e.jsx("p",{className:"text-gray-600 dark:text-gray-300 font-medium",children:r}),n&&e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:n})]})})},w=[{id:"general-1",name:"Metro General Hospital",location:"Downtown",type:"General"},{id:"cardio-1",name:"Heart & Vascular Institute",location:"Midtown",type:"Specialty"},{id:"pediatric-1",name:"Children's Medical Center",location:"Westside",type:"Pediatric"},{id:"trauma-1",name:"Regional Trauma Center",location:"Northside",type:"Trauma"}],I=[2021,2022,2023,2024],s=(a,r=15)=>{const n=a*(r/100);return Math.round(a+(Math.random()-.5)*2*n)},q=[];w.forEach(a=>{I.forEach(r=>{const n=r===2024?1:r===2023?.92:r===2022?.85:.78,i=a.type==="General"?1:a.type==="Specialty"?.7:a.type==="Pediatric"?.5:.8,t=n*i,l={hospitalId:a.id,year:r,financialMetrics:[{id:"total-revenue",title:"Total Revenue",value:s(125e5*t),change:s(8.5,50),changeType:Math.random()>.3?"increase":"decrease",period:"vs last month",format:"currency"},{id:"net-profit",title:"Net Profit",value:s(21e5*t),change:s(12.3,60),changeType:Math.random()>.25?"increase":"decrease",period:"vs last month",format:"currency"},{id:"profit-margin",title:"Profit Margin",value:s(16.8,25),change:s(2.1,80),changeType:Math.random()>.4?"increase":"decrease",period:"vs last month",format:"percentage"},{id:"operating-expenses",title:"Operating Expenses",value:s(98e5*t),change:s(3.2,40),changeType:Math.random()>.6?"increase":"decrease",period:"vs last month",format:"currency"}],revenueData:[{month:"Jan",revenue:s(112e5*t),expenses:s(89e5*t),netIncome:s(23e5*t)},{month:"Feb",revenue:s(108e5*t),expenses:s(86e5*t),netIncome:s(22e5*t)},{month:"Mar",revenue:s(121e5*t),expenses:s(92e5*t),netIncome:s(29e5*t)},{month:"Apr",revenue:s(118e5*t),expenses:s(9e6*t),netIncome:s(28e5*t)},{month:"May",revenue:s(128e5*t),expenses:s(96e5*t),netIncome:s(32e5*t)},{month:"Jun",revenue:s(125e5*t),expenses:s(98e5*t),netIncome:s(27e5*t)},{month:"Jul",revenue:s(132e5*t),expenses:s(101e5*t),netIncome:s(31e5*t)},{month:"Aug",revenue:s(129e5*t),expenses:s(99e5*t),netIncome:s(3e6*t)},{month:"Sep",revenue:s(135e5*t),expenses:s(103e5*t),netIncome:s(32e5*t)},{month:"Oct",revenue:s(131e5*t),expenses:s(1e7*t),netIncome:s(31e5*t)},{month:"Nov",revenue:s(127e5*t),expenses:s(97e5*t),netIncome:s(3e6*t)},{month:"Dec",revenue:s(142e5*t),expenses:s(108e5*t),netIncome:s(34e5*t)}],departmentFinances:[{department:"Emergency",revenue:s(32e5*t),expenses:s(24e5*t),profit:s(8e5*t),profitMargin:s(25,30)},{department:"Surgery",revenue:s(45e5*t),expenses:s(31e5*t),profit:s(14e5*t),profitMargin:s(31.1,25)},{department:"Cardiology",revenue:s(28e5*t),expenses:s(19e5*t),profit:s(9e5*t),profitMargin:s(32.1,20)},{department:a.type==="Pediatric"?"Pediatrics":"Oncology",revenue:s(19e5*t),expenses:s(14e5*t),profit:s(5e5*t),profitMargin:s(26.3,35)},{department:a.type==="Trauma"?"Trauma":"Orthopedics",revenue:s(11e5*t),expenses:s(8e5*t),profit:s(3e5*t),profitMargin:s(27.3,40)}],patientMetrics:{totalPatients:s(15420*t,20),inpatients:s(2180*t,25),outpatients:s(11850*t,20),emergencyVisits:s(1390*t,30),averageStayDuration:s(4.2*10,15)/10,occupancyRate:s(87.5,10)},expenseBreakdown:[{category:"Salaries & Benefits",amount:s(52e5*t),percentage:s(53.1,8),color:"#3b82f6"},{category:"Medical Supplies",amount:s(18e5*t),percentage:s(18.4,15),color:"#10b981"},{category:"Equipment",amount:s(12e5*t),percentage:s(12.2,20),color:"#f59e0b"},{category:"Utilities",amount:s(6e5*t),percentage:s(6.1,25),color:"#ef4444"},{category:"Maintenance",amount:s(5e5*t),percentage:s(5.1,30),color:"#8b5cf6"},{category:"Other",amount:s(5e5*t),percentage:s(5.1,35),color:"#6b7280"}],cashFlowData:[{date:`${r}-01`,operatingCashFlow:s(21e5*t),investingCashFlow:s(-8e5*t),financingCashFlow:s(-3e5*t),netCashFlow:s(1e6*t)},{date:`${r}-02`,operatingCashFlow:s(195e4*t),investingCashFlow:s(-2e5*t),financingCashFlow:s(-4e5*t),netCashFlow:s(135e4*t)},{date:`${r}-03`,operatingCashFlow:s(23e5*t),investingCashFlow:s(-12e5*t),financingCashFlow:s(-2e5*t),netCashFlow:s(9e5*t)},{date:`${r}-04`,operatingCashFlow:s(22e5*t),investingCashFlow:s(-3e5*t),financingCashFlow:s(-35e4*t),netCashFlow:s(155e4*t)},{date:`${r}-05`,operatingCashFlow:s(25e5*t),investingCashFlow:s(-15e4*t),financingCashFlow:s(-3e5*t),netCashFlow:s(205e4*t)},{date:`${r}-06`,operatingCashFlow:s(235e4*t),investingCashFlow:s(-6e5*t),financingCashFlow:s(-25e4*t),netCashFlow:s(15e5*t)}]};q.push(l)})});const Ne=(a,r)=>q.find(n=>n.hospitalId===a&&n.year===r),ke=()=>{var g;const{getAccessibleHospitals:a,canAccessHospital:r}=N(),n=a(),i=w.filter(p=>n.includes(p.id)),[t,l]=x.useState(n[0]||""),[c,u]=x.useState(2024),[h,y]=x.useState(null),[m,f]=x.useState(!0);x.useEffect(()=>{if(t&&c){f(!0);const p=setTimeout(()=>{const J=Ne(t,c);y(J||null),f(!1)},500);return()=>clearTimeout(p)}},[t,c]);const o=p=>{r(p)&&l(p)},d=p=>{u(p)};return m?e.jsxs("div",{className:"text-gray-900 dark:text-gray-100",children:[e.jsx(E,{hospitals:i,selectedHospitalId:t,selectedYear:c,availableYears:I,onHospitalChange:o,onYearChange:d}),e.jsx("main",{className:"p-4 sm:p-6",children:e.jsx(Y,{size:"md",text:"Loading dashboard data...",subtext:`${(g=w.find(p=>p.id===t))==null?void 0:g.name} â€¢ ${c}`,className:"min-h-96"})})]}):h?e.jsxs("div",{className:"text-gray-900 dark:text-gray-100",children:[e.jsx(E,{hospitals:i,selectedHospitalId:t,selectedYear:c,availableYears:I,onHospitalChange:o,onYearChange:d}),e.jsxs("main",{className:"p-4 sm:p-6",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Key Financial Metrics"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:h.financialMetrics.map(p=>e.jsx(fe,{metric:p},p.id))})]}),e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:e.jsx("div",{className:"lg:col-span-2",children:e.jsx(ye,{data:h.revenueData})})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[e.jsx(je,{data:h.expenseBreakdown}),e.jsx(we,{data:h.cashFlowData})]}),e.jsx("div",{className:"mb-8",children:e.jsx(ve,{metrics:h.patientMetrics})}),e.jsx("div",{className:"mb-8",children:e.jsx(be,{departments:h.departmentFinances})}),e.jsxs("footer",{className:"text-center text-sm text-gray-500 dark:text-gray-400 mt-12 py-6 border-t border-gray-200 dark:border-gray-700",children:[e.jsx("p",{children:"Â© 2024 Hospital Finance Dashboard. All rights reserved."}),e.jsxs("p",{className:"mt-1",children:["Last updated: ",new Date().toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})]})]})]})]}):e.jsxs("div",{className:"text-gray-900 dark:text-gray-100",children:[e.jsx(E,{hospitals:i,selectedHospitalId:t,selectedYear:c,availableYears:I,onHospitalChange:o,onYearChange:d}),e.jsx("main",{className:"p-4 sm:p-6",children:e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"text-gray-400 mb-4",children:e.jsx("svg",{className:"w-16 h-16 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"No Data Available"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"No financial data found for the selected hospital and year combination."}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-2",children:"Please select a different hospital or year."})]})})]})};class S extends x.Component{constructor(){super(...arguments);O(this,"state",{hasError:!1})}static getDerivedStateFromError(n){return{hasError:!0,error:n}}componentDidCatch(n,i){console.error("Uncaught error:",n,i),this.setState({error:n,errorInfo:i})}render(){return this.state.hasError?this.props.fallback?this.props.fallback:e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-slate-900 text-gray-900 dark:text-gray-100",children:e.jsx("div",{className:"max-w-md w-full mx-4",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-lg p-8 text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-danger-100 dark:bg-danger-900/20 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx("svg",{className:"w-8 h-8 text-danger-600 dark:text-danger-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),e.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-2",children:"Something went wrong"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-6",children:"We encountered an unexpected error. Please try refreshing the page or contact support if the problem persists."}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("button",{onClick:()=>window.location.reload(),className:"w-full bg-primary-600 hover:bg-primary-700 text-white font-medium py-2 px-4 rounded-lg transition-colors duration-200",children:"Refresh Page"}),e.jsx("button",{onClick:()=>this.setState({hasError:!1}),className:"w-full bg-gray-100 hover:bg-gray-200 dark:bg-gray-700 dark:hover:bg-gray-600 text-gray-700 dark:text-gray-200 font-medium py-2 px-4 rounded-lg transition-colors duration-200",children:"Try Again"})]}),!1]})})}):this.props.children}}const Ce=({onSwitchToSignUp:a})=>{const[r,n]=x.useState(""),[i,t]=x.useState(""),[l,c]=x.useState(""),[u,h]=x.useState(!1),{signIn:y,isLoading:m}=N(),f=async g=>{g.preventDefault(),c("");try{await y(r,i)}catch(p){c(p instanceof Error?p.message:"An error occurred")}},o=[{role:"Admin",email:"admin@hospitalfinance.com",password:"admin123"},{role:"Hospital Owner",email:"owner@metrogeneral.com",password:"owner123"},{role:"Branch Manager",email:"manager@metrogeneral.com",password:"manager123"}],d=(g,p)=>{n(g),t(p)};return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-primary-50 to-blue-100 dark:from-gray-900 dark:to-slate-900 text-gray-900 dark:text-gray-100 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8 transition-colors duration-200",children:e.jsxs("div",{className:"max-w-md w-full space-y-8",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"mx-auto w-16 h-16 bg-primary-600 rounded-xl flex items-center justify-center mb-4",children:e.jsx("span",{className:"text-white font-bold text-2xl",children:"H"})}),e.jsx("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Welcome back"}),e.jsx("p",{className:"mt-2 text-gray-600 dark:text-gray-300",children:"Sign in to your Hospital Finance Dashboard"})]}),e.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4",children:[e.jsx("h3",{className:"text-sm font-medium text-blue-900 dark:text-blue-200 mb-2",children:"Demo Accounts:"}),e.jsx("div",{className:"space-y-2",children:o.map((g,p)=>e.jsxs("button",{onClick:()=>d(g.email,g.password),className:"block w-full text-left text-xs bg-white dark:bg-gray-800 hover:bg-blue-50 dark:hover:bg-blue-900/40 border border-blue-200 dark:border-blue-700 rounded px-2 py-1 transition-colors",children:[e.jsx("span",{className:"font-medium text-blue-900 dark:text-blue-200",children:g.role}),e.jsx("br",{}),e.jsx("span",{className:"text-blue-700 dark:text-blue-300",children:g.email})]},p))})]}),e.jsxs("form",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-lg p-8 space-y-6",onSubmit:f,children:[l&&e.jsx("div",{className:"bg-danger-50 border border-danger-200 text-danger-700 px-4 py-3 rounded-lg text-sm",children:l}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Email Address"}),e.jsx("input",{id:"email",type:"email",required:!0,value:r,onChange:g=>n(g.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500",placeholder:"Enter your email"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{id:"password",type:u?"text":"password",required:!0,value:i,onChange:g=>t(g.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 pr-10",placeholder:"Enter your password"}),e.jsx("button",{type:"button",onClick:()=>h(!u),className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 dark:text-gray-500 hover:text-gray-600 dark:hover:text-gray-300",children:u?e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.878 9.878L3 3m6.878 6.878L21 21"})}):e.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})]})]}),e.jsx("button",{type:"submit",disabled:m,className:"w-full bg-primary-600 hover:bg-primary-700 disabled:bg-primary-400 text-white font-medium py-2 px-4 rounded-lg transition-colors duration-200 flex items-center justify-center",children:m?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent mr-2"}),"Signing in..."]}):"Sign In"}),e.jsx("div",{className:"text-center",children:e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Don't have an account?"," ",e.jsx("button",{type:"button",onClick:a,className:"text-primary-600 hover:text-primary-700 font-medium",children:"Sign up"})]})})]}),e.jsx("div",{className:"text-center text-xs text-gray-500 dark:text-gray-400",children:e.jsx("p",{children:"Â© 2024 Hospital Finance Dashboard. All rights reserved."})})]})})},Se=({onSwitchToSignIn:a})=>{const[r,n]=x.useState({name:"",email:"",password:"",confirmPassword:"",role:"branch_owner",hospitalId:"",hospitalIds:[]}),[i,t]=x.useState(""),[l,c]=x.useState(!1),{signUp:u,isLoading:h}=N(),y=async o=>{if(o.preventDefault(),t(""),r.password!==r.confirmPassword){t("Passwords do not match");return}if(r.password.length<6){t("Password must be at least 6 characters long");return}if(r.role==="branch_owner"&&!r.hospitalId){t("Please select a hospital for branch manager role");return}if(r.role==="hospital_owner"&&r.hospitalIds.length===0){t("Please select at least one hospital for hospital owner role");return}try{await u({name:r.name,email:r.email,password:r.password,role:r.role,hospitalId:r.role==="branch_owner"?r.hospitalId:void 0,hospitalIds:r.role==="hospital_owner"?r.hospitalIds:void 0})}catch(d){t(d instanceof Error?d.message:"An error occurred")}},m=(o,d)=>{n(g=>({...g,[o]:d}))},f=(o,d)=>{n(d?g=>({...g,hospitalIds:[...g.hospitalIds,o]}):g=>({...g,hospitalIds:g.hospitalIds.filter(p=>p!==o)}))};return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-primary-50 to-blue-100 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"max-w-lg w-full space-y-8",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"mx-auto w-16 h-16 bg-primary-600 rounded-xl flex items-center justify-center mb-4",children:e.jsx("span",{className:"text-white font-bold text-2xl",children:"H"})}),e.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Create Account"}),e.jsx("p",{className:"mt-2 text-gray-600",children:"Join the Hospital Finance Dashboard"})]}),e.jsxs("form",{className:"bg-white rounded-lg shadow-lg p-8 space-y-6",onSubmit:y,children:[i&&e.jsx("div",{className:"bg-danger-50 border border-danger-200 text-danger-700 px-4 py-3 rounded-lg text-sm",children:i}),e.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name"}),e.jsx("input",{id:"name",type:"text",required:!0,value:r.name,onChange:o=>m("name",o.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500",placeholder:"Enter your full name"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),e.jsx("input",{id:"email",type:"email",required:!0,value:r.email,onChange:o=>m("email",o.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500",placeholder:"Enter your email"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{id:"password",type:l?"text":"password",required:!0,value:r.password,onChange:o=>m("password",o.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 pr-10",placeholder:"Create a password"}),e.jsx("button",{type:"button",onClick:()=>c(!l),className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-gray-600",children:l?e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.878 9.878L3 3m6.878 6.878L21 21"})}):e.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm Password"}),e.jsx("input",{id:"confirmPassword",type:"password",required:!0,value:r.confirmPassword,onChange:o=>m("confirmPassword",o.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500",placeholder:"Confirm your password"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Account Type"}),e.jsx("div",{className:"space-y-3",children:Object.keys(T).map(o=>e.jsxs("div",{className:"flex items-start",children:[e.jsx("input",{id:o,type:"radio",name:"role",value:o,checked:r.role===o,onChange:d=>m("role",d.target.value),className:"mt-1 h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300",disabled:o==="admin"}),e.jsxs("div",{className:"ml-3",children:[e.jsxs("label",{htmlFor:o,className:"block text-sm font-medium text-gray-900",children:[T[o].title,o==="admin"&&e.jsx("span",{className:"text-gray-400 ml-2",children:"(Contact admin)"})]}),e.jsx("p",{className:"text-xs text-gray-600",children:T[o].description})]})]},o))})]}),r.role==="branch_owner"&&e.jsxs("div",{children:[e.jsx("label",{htmlFor:"hospitalId",className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Hospital"}),e.jsxs("select",{id:"hospitalId",value:r.hospitalId,onChange:o=>m("hospitalId",o.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500",required:!0,children:[e.jsx("option",{value:"",children:"Choose a hospital..."}),w.map(o=>e.jsxs("option",{value:o.id,children:[o.name," (",o.type," â€¢ ",o.location,")"]},o.id))]})]}),r.role==="hospital_owner"&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Hospitals (you can select multiple)"}),e.jsx("div",{className:"space-y-2 max-h-32 overflow-y-auto border border-gray-300 rounded-lg p-3",children:w.map(o=>e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{id:`hospital-${o.id}`,type:"checkbox",checked:r.hospitalIds.includes(o.id),onChange:d=>f(o.id,d.target.checked),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),e.jsxs("label",{htmlFor:`hospital-${o.id}`,className:"ml-2 text-sm text-gray-900",children:[o.name,e.jsxs("span",{className:"text-gray-500 ml-1",children:["(",o.type," â€¢ ",o.location,")"]})]})]},o.id))})]}),e.jsx("button",{type:"submit",disabled:h,className:"w-full bg-primary-600 hover:bg-primary-700 disabled:bg-primary-400 text-white font-medium py-2 px-4 rounded-lg transition-colors duration-200 flex items-center justify-center",children:h?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent mr-2"}),"Creating account..."]}):"Create Account"}),e.jsx("div",{className:"text-center",children:e.jsxs("p",{className:"text-sm text-gray-600",children:["Already have an account?"," ",e.jsx("button",{type:"button",onClick:a,className:"text-primary-600 hover:text-primary-700 font-medium",children:"Sign in"})]})})]}),e.jsx("div",{className:"text-center text-xs text-gray-500",children:e.jsx("p",{children:"Â© 2024 Hospital Finance Dashboard. All rights reserved."})})]})})},Ie=({children:a})=>{const[r,n]=x.useState(!1),{isAuthenticated:i,isLoading:t}=N();return t?e.jsx(Y,{size:"md",text:"Loading...",className:"min-h-screen"}):i?e.jsx(e.Fragment,{children:a}):r?e.jsx(Se,{onSwitchToSignIn:()=>n(!1)}):e.jsx(Ce,{onSwitchToSignUp:()=>n(!0)})};function Fe(){return e.jsx(S,{children:e.jsx(he,{children:e.jsx(S,{children:e.jsx(ue,{children:e.jsx(S,{children:e.jsx("div",{className:"App min-h-screen bg-gray-50 dark:bg-slate-900 transition-colors duration-200 overflow-visible",children:e.jsx(Ie,{children:e.jsx(S,{children:e.jsx(ke,{})})})})})})})})})}A.createRoot(document.getElementById("root")).render(e.jsx(ee.StrictMode,{children:e.jsx(Fe,{})}));
