import{j as e,u as a,h as t,l as s,g as r,a as l}from"./auth-D91GhDRI.js";import{r as i}from"./vendor-react-Bx1teXYA.js";import{R as n,E as d,C as c}from"./charts-qGsiu7dj.js";const o=({options:a,value:t,onChange:s,placeholder:r,className:l=""})=>{const[n,d]=i.useState(!1),c=i.useRef(null),[o,x]=i.useState(10),m=a.find(e=>e.value===t);return i.useEffect(()=>{const e=e=>{c.current&&!c.current.contains(e.target)&&(d(!1),x(10))};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]),e.jsxs("div",{ref:c,className:`dropdown-container relative ${l}`,style:{zIndex:o},children:[e.jsx("button",{type:"button",className:"w-full bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-lg px-4 py-2 text-left shadow-sm focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 hover:border-gray-400 dark:hover:border-gray-500 transition-colors duration-200",onClick:()=>{x(n?10:70),d(!n)},children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"min-w-0 flex-1",children:m?e.jsxs("div",{className:"min-w-0",children:[e.jsx("div",{className:"font-medium text-gray-900 dark:text-white truncate",children:m.label}),m.subtitle&&e.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400 truncate",children:m.subtitle})]}):e.jsx("span",{className:"text-gray-500 dark:text-gray-400 truncate",children:r})}),e.jsx("div",{className:"ml-2 flex-shrink-0",children:e.jsx("svg",{className:"w-4 h-4 text-gray-400 dark:text-gray-500 transition-transform duration-200 "+(n?"transform rotate-180":""),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})}),n&&e.jsx("div",{className:"absolute w-full mt-1 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-lg shadow-lg dark:shadow-gray-900/20 max-h-60 overflow-auto",style:{position:"absolute",top:"100%",left:0,right:0},children:a.map(a=>e.jsx("button",{type:"button",className:"w-full text-left px-4 py-3 hover:bg-gray-50 dark:hover:bg-gray-700 focus:outline-none focus:bg-gray-50 dark:focus:bg-gray-700 transition-colors duration-150 "+(a.value===t?"bg-primary-50 dark:bg-primary-900/20 border-r-2 border-primary-500":""),onClick:()=>{return e=a.value,s(e),d(!1),void x(10);var e},children:e.jsxs("div",{className:"min-w-0",children:[e.jsx("div",{className:"font-medium text-gray-900 dark:text-white truncate",children:a.label}),a.subtitle&&e.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1 truncate",children:a.subtitle})]})},a.value))})]})},x=i.createContext(void 0),m=({children:a})=>{const[t,s]=i.useState("auto"),[r,l]=i.useState("light"),n=i.useCallback(()=>window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light",[]),d=i.useCallback(e=>{const a=document.documentElement;a.classList.add("transitioning"),"dark"===e?a.classList.add("dark"):a.classList.remove("dark"),setTimeout(()=>{a.classList.remove("transitioning")},300)},[]),c=i.useCallback(e=>"auto"===e?n():e,[n]);i.useEffect(()=>{const e=localStorage.getItem("hospitalFinanceTheme")||"auto",a=c(e);s(e),l(a),d(a)},[c,d]),i.useEffect(()=>{const e=window.matchMedia("(prefers-color-scheme: dark)"),a=e=>{const a=e.matches?"dark":"light";"auto"===t&&(l(a),d(a))};return e.addEventListener("change",a),()=>e.removeEventListener("change",a)},[t,d]);const o=i.useCallback(e=>{const a=c(e);s(e),l(a),localStorage.setItem("hospitalFinanceTheme",e),d(a)},[c,d]),m=i.useCallback(()=>{o("auto"===t?"light"===r?"dark":"light":"light"===t?"dark":"light")},[t,r,o]),h={theme:t,resolvedTheme:r,toggleTheme:m,setTheme:o};return e.jsx(x.Provider,{value:h,children:a})},h=()=>{const e=i.useContext(x);if(void 0===e)throw new Error("useTheme must be used within a ThemeProvider");return e},g=({className:a="",size:t="md"})=>{const{resolvedTheme:s,setTheme:r}=h(),l={sm:"w-4 h-4",md:"w-5 h-5",lg:"w-6 h-6"}[t],i=()=>"light"===s?"Switch to dark mode":"Switch to light mode";return e.jsx("button",{onClick:()=>{r("light"===s?"dark":"light")},className:`\n        relative p-2 rounded-lg transition-all duration-200 \n        bg-gray-100 hover:bg-gray-200 \n        dark:bg-gray-700 dark:hover:bg-gray-600 \n        text-gray-700 dark:text-gray-300 \n        hover:text-gray-900 dark:hover:text-white\n        focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 \n        dark:focus:ring-offset-gray-800\n        hover:scale-105 active:scale-95\n        ${a}\n      `,title:i(),"aria-label":i(),children:"light"===s?e.jsx("svg",{className:l,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"})}):e.jsx("svg",{className:l,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"})})})},u=({hospitals:t,selectedHospitalId:s,selectedYear:r,availableYears:l,onHospitalChange:n,onYearChange:d})=>{const{user:c,signOut:x}=a(),[m,h]=i.useState(!1);i.useEffect(()=>(document.body.style.overflow=m?"hidden":"unset",()=>{document.body.style.overflow="unset"}),[m]);const u=t.map(e=>({value:e.id,label:e.name,subtitle:`${e.type} • ${e.location}`})),p=l.map(e=>({value:e.toString(),label:e.toString()})),y=t.find(e=>e.id===s);return e.jsx("header",{className:"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 transition-colors duration-200 relative overflow-visible",children:e.jsxs("div",{className:"px-4 sm:px-6 lg:px-8 overflow-visible",children:[e.jsxs("div",{className:"flex items-center justify-between min-h-16 py-4 relative",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-8 h-8 bg-primary-600 rounded-lg flex items-center justify-center",children:e.jsx("span",{className:"text-white font-bold text-lg",children:"H"})}),e.jsxs("div",{className:"hidden sm:block",children:[e.jsx("h1",{className:"text-lg sm:text-xl font-bold text-gray-900 dark:text-white",children:"Hospital Finance Dashboard"}),e.jsx("p",{className:"text-xs sm:text-sm text-gray-500 dark:text-gray-400",children:y?`${y.name} • ${r}`:"Real-time financial insights and analytics"})]}),e.jsx("div",{className:"sm:hidden",children:e.jsx("h1",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"Dashboard"})})]}),e.jsxs("div",{className:"hidden xl:flex items-center space-x-6",children:[e.jsxs("div",{className:"flex items-end space-x-2 sm:space-x-4 min-w-0",children:[e.jsxs("div",{className:"flex flex-col space-y-1",children:[e.jsx("label",{className:"text-xs font-medium text-gray-600 dark:text-gray-400 uppercase tracking-wide",children:"Hospital"}),e.jsx(o,{options:u,value:s,onChange:n,placeholder:"Select Hospital",className:"w-full sm:w-64"})]}),e.jsxs("div",{className:"flex flex-col space-y-1",children:[e.jsx("label",{className:"text-xs font-medium text-gray-600 dark:text-gray-400 uppercase tracking-wide",children:"Year"}),e.jsx(o,{options:p,value:r.toString(),onChange:e=>d(parseInt(e)),placeholder:"Select Year",className:"w-full sm:w-40"})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(g,{}),e.jsx("button",{className:"btn-secondary text-sm hidden 2xl:inline-flex","aria-label":"Export financial report",children:"Export Report"}),e.jsx("button",{className:"btn-primary text-sm hidden 2xl:inline-flex","aria-label":"Generate financial analysis",children:"Generate Analysis"})]}),e.jsxs("div",{className:"flex items-center space-x-2 pl-4 border-l border-gray-200 dark:border-gray-700",children:[e.jsx("div",{className:"w-8 h-8 bg-primary-600 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-white font-medium text-sm",children:c?.name.split(" ").map(e=>e[0]).join("").toUpperCase()})}),e.jsxs("div",{className:"text-sm",children:[e.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:c?.name}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400 capitalize",children:c?.role.replace("_"," ")})]}),e.jsx("button",{onClick:x,className:"ml-2 text-gray-400 hover:text-gray-600 dark:text-gray-500 dark:hover:text-gray-300 transition-colors",title:"Sign out","aria-label":"Sign out of your account",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})})})]})]}),e.jsxs("div",{className:"xl:hidden flex items-center space-x-2",children:[e.jsx(g,{size:"sm"}),e.jsxs("button",{type:"button",className:"p-2 rounded-md text-gray-900 dark:text-gray-100 hover:text-gray-500 hover:bg-gray-100 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-primary-500 border border-gray-300 dark:border-gray-600",onClick:()=>h(!m),"aria-controls":"mobile-menu","aria-expanded":m,children:[e.jsx("span",{className:"sr-only",children:"Open main menu"}),m?e.jsx("svg",{className:"block h-6 w-6",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})}):e.jsx("svg",{className:"block h-6 w-6",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"})})]})]})]}),m&&e.jsx("div",{className:"xl:hidden fixed inset-0 z-50",children:e.jsxs("div",{className:"fixed top-0 right-0 h-full w-full bg-white dark:bg-gray-800 shadow-xl transform transition-transform duration-300 ease-in-out "+(m?"translate-x-0":"translate-x-full"),children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-700",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-8 h-8 bg-primary-600 rounded-lg flex items-center justify-center",children:e.jsx("span",{className:"text-white font-bold text-lg",children:"H"})}),e.jsx("span",{className:"font-semibold text-gray-900 dark:text-white",children:"Menu"})]}),e.jsx("button",{onClick:()=>h(!1),className:"p-2 rounded-lg text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsx("div",{className:"flex flex-col h-full",children:e.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-6",children:[e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-lg p-3",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[e.jsx("div",{className:"w-12 h-12 bg-primary-600 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-white font-medium text-lg",children:c?.name.split(" ").map(e=>e[0]).join("").toUpperCase()})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"font-medium text-gray-900 dark:text-white truncate",children:c?.name}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 capitalize truncate",children:c?.role.replace("_"," ")})]})]}),e.jsxs("button",{onClick:x,className:"w-full flex items-center justify-center px-3 py-2 text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors font-medium text-sm border border-red-200 dark:border-red-800","aria-label":"Sign out of your account",children:[e.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),"Sign Out"]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"Filters"}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Hospital"}),e.jsx(o,{options:u,value:s,onChange:n,placeholder:"Select Hospital",className:"w-full"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Year"}),e.jsx(o,{options:p,value:r.toString(),onChange:e=>d(parseInt(e)),placeholder:"Select Year",className:"w-full"})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"Actions"}),e.jsxs("button",{className:"w-full btn-secondary text-left justify-start","aria-label":"Export financial report",onClick:()=>h(!1),children:[e.jsx("svg",{className:"w-5 h-5 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Export Report"]}),e.jsxs("button",{className:"w-full btn-primary text-left justify-start","aria-label":"Generate financial analysis",onClick:()=>h(!1),children:[e.jsx("svg",{className:"w-5 h-5 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),"Generate Analysis"]})]})]})})]})})]})})},p=e=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(e),y=e=>`${e.toFixed(1)}%`,j=e=>new Intl.NumberFormat("en-US").format(e),b=e=>"increase"===e?"↗":"↘",f=({metric:a})=>{const t=(e,a)=>{switch(a){case"currency":return p(e);case"percentage":return y(e);case"number":return j(e);default:return e.toString()}};return e.jsxs("div",{className:"metric-card",role:"article","aria-labelledby":`metric-title-${a.id}`,"aria-describedby":`metric-change-${a.id}`,children:[e.jsx("div",{className:"flex items-center justify-between mb-2",children:e.jsx("h3",{id:`metric-title-${a.id}`,className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:a.title})}),e.jsx("div",{className:"mb-2",children:e.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white","aria-label":`${a.title} value: ${t(a.value,a.format)}`,children:t(a.value,a.format)})}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsxs("span",{id:`metric-change-${a.id}`,className:"flex items-center "+(s=a.changeType,"increase"===s?"text-success-600":"text-danger-600"),"aria-label":`${"increase"===a.changeType?"Increased":"Decreased"} by ${y(a.change)} ${a.period}`,children:[e.jsx("span",{className:"mr-1","aria-hidden":"true",children:b(a.changeType)}),y(a.change)]}),e.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:a.period})]})]});var s},v=({departments:a})=>e.jsxs("div",{className:"card",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between mb-6 gap-4",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Department Performance"}),e.jsx("button",{className:"btn-secondary text-sm w-full sm:w-auto",children:"View Details"})]}),e.jsx("div",{className:"hidden lg:block overflow-x-auto -mx-4 sm:mx-0",children:e.jsxs("table",{className:"min-w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-gray-200 dark:border-gray-700",children:[e.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-600 dark:text-gray-400",children:"Department"}),e.jsx("th",{className:"text-right py-3 px-4 font-medium text-gray-600 dark:text-gray-400",children:"Revenue"}),e.jsx("th",{className:"text-right py-3 px-4 font-medium text-gray-600 dark:text-gray-400",children:"Expenses"}),e.jsx("th",{className:"text-right py-3 px-4 font-medium text-gray-600 dark:text-gray-400",children:"Profit"}),e.jsx("th",{className:"text-right py-3 px-4 font-medium text-gray-600 dark:text-gray-400",children:"Margin"})]})}),e.jsx("tbody",{children:a.map((t,s)=>e.jsxs("tr",{className:(s!==a.length-1?"border-b border-gray-100 dark:border-gray-700":"")+" hover:bg-gray-50 dark:hover:bg-gray-700/50",children:[e.jsx("td",{className:"py-3 px-4",children:e.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:t.department})}),e.jsx("td",{className:"py-3 px-4 text-right text-gray-900 dark:text-gray-100",children:p(t.revenue)}),e.jsx("td",{className:"py-3 px-4 text-right text-gray-900 dark:text-gray-100",children:p(t.expenses)}),e.jsx("td",{className:"py-3 px-4 text-right",children:e.jsx("span",{className:"font-medium "+(t.profit>0?"text-success-600":"text-danger-600"),children:p(t.profit)})}),e.jsx("td",{className:"py-3 px-4 text-right",children:e.jsx("span",{className:"font-medium "+(t.profitMargin>20?"text-success-600":t.profitMargin>10?"text-warning-600":"text-danger-600"),children:y(t.profitMargin)})})]},t.department))})]})}),e.jsx("div",{className:"lg:hidden space-y-4",children:a.map(a=>e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-lg p-4",children:[e.jsx("div",{className:"font-medium text-gray-900 dark:text-white mb-3 text-lg",children:a.department}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Revenue"}),e.jsx("div",{className:"font-medium text-gray-900 dark:text-gray-100",children:p(a.revenue)})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Expenses"}),e.jsx("div",{className:"font-medium text-gray-900 dark:text-gray-100",children:p(a.expenses)})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Profit"}),e.jsx("div",{className:"font-medium "+(a.profit>0?"text-success-600":"text-danger-600"),children:p(a.profit)})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Margin"}),e.jsx("div",{className:"font-medium "+(a.profitMargin>20?"text-success-600":a.profitMargin>10?"text-warning-600":"text-danger-600"),children:y(a.profitMargin)})]})]})]},a.department))})]}),N=({metrics:a})=>{const t=[{label:"Total Patients",value:j(a.totalPatients),icon:"👥",color:"text-primary-600"},{label:"Inpatients",value:j(a.inpatients),icon:"🏥",color:"text-success-600"},{label:"Outpatients",value:j(a.outpatients),icon:"🚶",color:"text-warning-600"},{label:"Emergency Visits",value:j(a.emergencyVisits),icon:"🚨",color:"text-danger-600"},{label:"Avg Stay Duration",value:`${a.averageStayDuration} days`,icon:"📅",color:"text-purple-600"},{label:"Occupancy Rate",value:y(a.occupancyRate),icon:"📊",color:"text-indigo-600"}];return e.jsxs("div",{className:"card",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Patient Metrics"}),e.jsx("button",{className:"btn-secondary text-sm","aria-label":"View detailed patient metrics report",children:"View Report"})]}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-6 gap-4",role:"grid","aria-label":"Patient metrics overview",children:t.map((a,t)=>e.jsxs("div",{className:"text-center p-4 bg-gray-50 dark:bg-gray-700/50 rounded-lg",role:"gridcell","aria-labelledby":`metric-label-${t}`,"aria-describedby":`metric-value-${t}`,children:[e.jsx("div",{className:"text-2xl mb-2","aria-hidden":"true",children:a.icon}),e.jsx("div",{id:`metric-value-${t}`,className:`text-lg font-bold ${a.color}`,"aria-label":`${a.label}: ${a.value}`,children:a.value}),e.jsx("div",{id:`metric-label-${t}`,className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:a.label})]},t))})]})},k=({size:a="md",text:t="Loading...",subtext:s,className:r=""})=>{const l={sm:"h-6 w-6",md:"h-12 w-12",lg:"h-16 w-16"}[a];return e.jsx("div",{className:`flex items-center justify-center p-4 ${r}`,children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:`animate-spin rounded-full ${l} border-b-2 border-primary-600 mx-auto mb-4`}),t&&e.jsx("p",{className:"text-gray-600 dark:text-gray-300 font-medium text-sm sm:text-base",children:t}),s&&e.jsx("p",{className:"text-xs sm:text-sm text-gray-500 dark:text-gray-400 mt-1 max-w-xs mx-auto",children:s})]})})},w=()=>{const{getAccessibleHospitals:o,canAccessHospital:x}=a(),m=o(),h=t.filter(e=>m.includes(e.id)),[g,p]=i.useState(m[0]||""),[y,j]=i.useState(2024),[b,w]=i.useState(null),[C,L]=i.useState(!0);i.useEffect(()=>{let e;return g&&y&&(L(!0),s.info("Loading dashboard data",{context:"Dashboard",data:{hospitalId:g,year:y}}),e=setTimeout(()=>{const e=r(g,y);e||s.warn("No data available for hospital and year",{context:"Dashboard",data:{hospitalId:g,year:y}}),w(e||null),L(!1)},500)),()=>{e&&clearTimeout(e)}},[g,y]);const M=e=>{x(e)?(s.info("Hospital selection changed",{context:"Dashboard",data:{hospitalId:e}}),p(e)):s.warn("Unauthorized hospital access attempt",{context:"Dashboard",data:{hospitalId:e}})},S=e=>{s.info("Year selection changed",{context:"Dashboard",data:{year:e,previousYear:y}}),j(e)};return C?e.jsxs("div",{className:"text-gray-900 dark:text-gray-100",children:[e.jsx(u,{hospitals:h,selectedHospitalId:g,selectedYear:y,availableYears:l,onHospitalChange:M,onYearChange:S}),e.jsx("main",{className:"p-4 sm:p-6",children:e.jsx(k,{size:"md",text:"Loading dashboard data...",subtext:`${t.find(e=>e.id===g)?.name} • ${y}`,className:"min-h-96"})})]}):b?e.jsxs("div",{className:"text-gray-900 dark:text-gray-100 relative",children:[e.jsx(u,{hospitals:h,selectedHospitalId:g,selectedYear:y,availableYears:l,onHospitalChange:M,onYearChange:S}),e.jsxs("main",{className:"p-3 sm:p-4 lg:p-6 xl:p-8",children:[e.jsxs("div",{className:"mb-6 lg:mb-8",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Key Financial Metrics"}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 lg:gap-6",children:b.financialMetrics.map(a=>e.jsx(f,{metric:a},a.id))})]}),e.jsxs("div",{className:"space-y-6 lg:space-y-8 mb-6 lg:mb-8",children:[e.jsx("div",{className:"w-full",children:e.jsx(n,{data:b.revenueData})}),e.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-6 lg:gap-8",children:[e.jsx(d,{data:b.expenseBreakdown}),e.jsx(c,{data:b.cashFlowData})]})]}),e.jsx("div",{className:"mb-6 lg:mb-8",children:e.jsx(N,{metrics:b.patientMetrics})}),e.jsx("div",{className:"mb-6 lg:mb-8",children:e.jsx(v,{departments:b.departmentFinances})}),e.jsxs("footer",{className:"text-center text-sm text-gray-500 dark:text-gray-400 mt-12 py-6 border-t border-gray-200 dark:border-gray-700",children:[e.jsx("p",{children:"© 2024 Hospital Finance Dashboard. All rights reserved."}),e.jsxs("p",{className:"mt-1",children:["Last updated: ",(new Date).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})]})]})]})]}):e.jsxs("div",{className:"text-gray-900 dark:text-gray-100",children:[e.jsx(u,{hospitals:h,selectedHospitalId:g,selectedYear:y,availableYears:l,onHospitalChange:M,onYearChange:S}),e.jsx("main",{className:"p-4 sm:p-6",children:e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"text-gray-400 mb-4",children:e.jsx("svg",{className:"w-16 h-16 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"No Data Available"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"No financial data found for the selected hospital and year combination."}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-2",children:"Please select a different hospital or year."})]})})]})};export{w as D,k as L,m as T,y as a,p as f,h as u};
//# sourceMappingURL=dashboard-DKaJdJ2B.js.map
