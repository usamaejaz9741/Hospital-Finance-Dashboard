import{r as Z,a as K,g as Y}from"./vendor-Dazix4UH.js";import{r as g,R as E,L as G,C as B,X as W,Y as z,T as D,a as R,b as M,P as X,c as Q,d as ee,B as te,e as C,f as re}from"./charts-sK7lKwZt.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))o(t);new MutationObserver(t=>{for(const l of t)if(l.type==="childList")for(const x of l.addedNodes)x.tagName==="LINK"&&x.rel==="modulepreload"&&o(x)}).observe(document,{childList:!0,subtree:!0});function n(t){const l={};return t.integrity&&(l.integrity=t.integrity),t.referrerPolicy&&(l.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?l.credentials="include":t.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function o(t){if(t.ep)return;t.ep=!0;const l=n(t);fetch(t.href,l)}})();var L={exports:{}},j={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var O;function se(){if(O)return j;O=1;var a=Z(),s=Symbol.for("react.element"),n=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,t=a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function x(u,d,f){var c,p={},i=null,m=null;f!==void 0&&(i=""+f),d.key!==void 0&&(i=""+d.key),d.ref!==void 0&&(m=d.ref);for(c in d)o.call(d,c)&&!l.hasOwnProperty(c)&&(p[c]=d[c]);if(u&&u.defaultProps)for(c in d=u.defaultProps,d)p[c]===void 0&&(p[c]=d[c]);return{$$typeof:s,type:u,key:i,ref:m,props:p,_owner:t.current}}return j.Fragment=n,j.jsx=x,j.jsxs=x,j}var _;function ae(){return _||(_=1,L.exports=se()),L.exports}var e=ae(),S={},H;function ne(){if(H)return S;H=1;var a=K();return S.createRoot=a.createRoot,S.hydrateRoot=a.hydrateRoot,S}var ie=ne();const oe=Y(ie),I=({options:a,value:s,onChange:n,placeholder:o,className:t=""})=>{const[l,x]=g.useState(!1),u=g.useRef(null),d=a.find(c=>c.value===s);g.useEffect(()=>{const c=p=>{u.current&&!u.current.contains(p.target)&&x(!1)};return document.addEventListener("mousedown",c),()=>{document.removeEventListener("mousedown",c)}},[]);const f=c=>{n(c),x(!1)};return e.jsxs("div",{ref:u,className:`dropdown-container relative ${t}`,children:[e.jsx("button",{type:"button",className:"w-full bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-lg px-4 py-2 text-left shadow-sm focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 hover:border-gray-400 dark:hover:border-gray-500 transition-colors duration-200",onClick:()=>x(!l),children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"min-w-0 flex-1",children:d?e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:d.label}),d.subtitle&&e.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:d.subtitle})]}):e.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:o})}),e.jsx("div",{className:"ml-2 flex-shrink-0",children:e.jsx("svg",{className:`w-4 h-4 text-gray-400 dark:text-gray-500 transition-transform duration-200 ${l?"transform rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})}),l&&e.jsx("div",{className:"absolute w-full mt-1 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-lg shadow-lg dark:shadow-gray-900/20 max-h-60 overflow-auto",style:{zIndex:99999,position:"absolute",top:"100%",left:0,right:0},children:a.map(c=>e.jsxs("button",{type:"button",className:`w-full text-left px-4 py-3 hover:bg-gray-50 dark:hover:bg-gray-700 focus:outline-none focus:bg-gray-50 dark:focus:bg-gray-700 transition-colors duration-150 ${c.value===s?"bg-primary-50 dark:bg-primary-900/20 border-r-2 border-primary-500":""}`,onClick:()=>f(c.value),children:[e.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:c.label}),c.subtitle&&e.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:c.subtitle})]},c.value))})]})},q=g.createContext(void 0),le=({children:a})=>{const[s,n]=g.useState("light");g.useEffect(()=>{const u=localStorage.getItem("hospitalFinanceTheme"),d=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light",f=u||d;n(f),o(f)},[]),g.useEffect(()=>{const u=window.matchMedia("(prefers-color-scheme: dark)"),d=f=>{if(!localStorage.getItem("hospitalFinanceTheme")){const c=f.matches?"dark":"light";n(c),o(c)}};return u.addEventListener("change",d),()=>u.removeEventListener("change",d)},[]);const o=u=>{const d=document.documentElement;u==="dark"?d.classList.add("dark"):d.classList.remove("dark")},t=u=>{n(u),localStorage.setItem("hospitalFinanceTheme",u),o(u)},x={theme:s,toggleTheme:()=>{t(s==="light"?"dark":"light")},setTheme:t};return e.jsx(q.Provider,{value:x,children:a})},ce=()=>{const a=g.useContext(q);if(a===void 0)throw new Error("useTheme must be used within a ThemeProvider");return a},$=({className:a="",size:s="md"})=>{const{theme:n,toggleTheme:o}=ce(),l={sm:"w-4 h-4",md:"w-5 h-5",lg:"w-6 h-6"}[s];return e.jsx("button",{onClick:o,className:`
        p-2 rounded-lg transition-all duration-200 
        bg-gray-100 hover:bg-gray-200 
        dark:bg-gray-700 dark:hover:bg-gray-600 
        text-gray-700 dark:text-gray-300 
        hover:text-gray-900 dark:hover:text-white
        focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 
        dark:focus:ring-offset-gray-800
        ${a}
      `,title:n==="light"?"Switch to dark mode":"Switch to light mode","aria-label":n==="light"?"Switch to dark mode":"Switch to light mode",children:n==="light"?e.jsx("svg",{className:l,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"})}):e.jsx("svg",{className:l,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"})})})},T=[{id:"admin-1",email:"admin@hospitalfinance.com",name:"System Administrator",role:"admin",createdAt:"2024-01-15T08:00:00Z",lastLogin:"2024-12-15T10:30:00Z"},{id:"owner-1",email:"owner@metrogeneral.com",name:"Sarah Johnson",role:"hospital_owner",hospitalIds:["general-1","cardio-1"],createdAt:"2024-02-01T09:00:00Z",lastLogin:"2024-12-14T15:45:00Z"},{id:"owner-2",email:"owner@childrensmed.com",name:"Dr. Michael Chen",role:"hospital_owner",hospitalIds:["pediatric-1"],createdAt:"2024-02-15T10:00:00Z",lastLogin:"2024-12-13T12:20:00Z"},{id:"branch-1",email:"manager@metrogeneral.com",name:"John Doe",role:"branch_owner",hospitalId:"general-1",createdAt:"2024-03-01T11:00:00Z",lastLogin:"2024-12-15T08:15:00Z"},{id:"branch-2",email:"manager@heartcenter.com",name:"Dr. Emily Rodriguez",role:"branch_owner",hospitalId:"cardio-1",createdAt:"2024-03-10T12:00:00Z",lastLogin:"2024-12-14T16:30:00Z"},{id:"branch-3",email:"manager@childrensmed.com",name:"Lisa Thompson",role:"branch_owner",hospitalId:"pediatric-1",createdAt:"2024-03-20T13:00:00Z",lastLogin:"2024-12-12T14:45:00Z"},{id:"branch-4",email:"manager@traumacenter.com",name:"Dr. Robert Kim",role:"branch_owner",hospitalId:"trauma-1",createdAt:"2024-04-01T14:00:00Z",lastLogin:"2024-12-11T11:20:00Z"}],U={signIn:async(a,s)=>{await new Promise(o=>setTimeout(o,1e3));const n=T.find(o=>o.email===a);if(!n)throw new Error("Invalid email or password");if(s.length<6)throw new Error("Invalid email or password");return n.lastLogin=new Date().toISOString(),n},signUp:async a=>{if(await new Promise(o=>setTimeout(o,1200)),T.find(o=>o.email===a.email))throw new Error("User with this email already exists");const n={id:`user-${Date.now()}`,email:a.email,name:a.name,role:a.role,hospitalId:a.hospitalId,hospitalIds:a.hospitalIds,createdAt:new Date().toISOString(),lastLogin:new Date().toISOString()};return T.push(n),n}},A={admin:{title:"System Administrator",description:"Full access to all hospitals and system-wide analytics",permissions:["View all hospitals","Manage users","System configuration"]},hospital_owner:{title:"Hospital Owner",description:"Access to owned hospitals across multiple locations",permissions:["Manage owned hospitals","View financial reports","Manage branch managers"]},branch_owner:{title:"Branch Manager",description:"Access to specific hospital location data only",permissions:["View branch data","Generate reports","Monitor performance"]}},V=g.createContext(void 0),de=({children:a})=>{const[s,n]=g.useState(null),[o,t]=g.useState(!0);g.useEffect(()=>{const p=localStorage.getItem("hospitalFinanceUser");if(p)try{n(JSON.parse(p))}catch{localStorage.removeItem("hospitalFinanceUser")}t(!1)},[]);const c={user:s,isAuthenticated:!!s,isLoading:o,signIn:async(p,i)=>{t(!0);try{const m=await U.signIn(p,i);n(m),localStorage.setItem("hospitalFinanceUser",JSON.stringify(m))}finally{t(!1)}},signUp:async p=>{t(!0);try{const i=await U.signUp(p);n(i),localStorage.setItem("hospitalFinanceUser",JSON.stringify(i))}finally{t(!1)}},signOut:()=>{n(null),localStorage.removeItem("hospitalFinanceUser")},canAccessHospital:p=>{if(!s)return!1;switch(s.role){case"admin":return!0;case"hospital_owner":return s.hospitalIds?.includes(p)||!1;case"branch_owner":return s.hospitalId===p;default:return!1}},getAccessibleHospitals:()=>{if(!s)return[];switch(s.role){case"admin":return["general-1","cardio-1","pediatric-1","trauma-1"];case"hospital_owner":return s.hospitalIds||[];case"branch_owner":return s.hospitalId?[s.hospitalId]:[];default:return[]}}};return e.jsx(V.Provider,{value:c,children:a})},k=()=>{const a=g.useContext(V);if(a===void 0)throw new Error("useAuth must be used within an AuthProvider");return a},P=({hospitals:a,selectedHospitalId:s,selectedYear:n,availableYears:o,onHospitalChange:t,onYearChange:l})=>{const{user:x,signOut:u}=k(),[d,f]=g.useState(!1),c=a.map(m=>({value:m.id,label:m.name,subtitle:`${m.type} • ${m.location}`})),p=o.map(m=>({value:m.toString(),label:m.toString(),subtitle:m===2024?"Current Year":void 0})),i=a.find(m=>m.id===s);return e.jsx("header",{className:"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 transition-colors duration-200 relative overflow-visible",children:e.jsxs("div",{className:"px-4 sm:px-6 lg:px-8 overflow-visible",children:[e.jsxs("div",{className:"flex items-center justify-between min-h-16 py-4 relative",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-8 h-8 bg-primary-600 rounded-lg flex items-center justify-center",children:e.jsx("span",{className:"text-white font-bold text-lg",children:"H"})}),e.jsxs("div",{className:"hidden sm:block",children:[e.jsx("h1",{className:"text-lg sm:text-xl font-bold text-gray-900 dark:text-white",children:"Hospital Finance Dashboard"}),e.jsx("p",{className:"text-xs sm:text-sm text-gray-500 dark:text-gray-400",children:i?`${i.name} • ${n}`:"Real-time financial insights and analytics"})]}),e.jsx("div",{className:"sm:hidden",children:e.jsx("h1",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"Dashboard"})})]}),e.jsxs("div",{className:"hidden lg:flex items-center space-x-6",children:[e.jsxs("div",{className:"flex items-end space-x-4",children:[e.jsxs("div",{className:"flex flex-col space-y-1",children:[e.jsx("label",{className:"text-xs font-medium text-gray-600 dark:text-gray-400 uppercase tracking-wide",children:"Hospital"}),e.jsx(I,{options:c,value:s,onChange:t,placeholder:"Select Hospital",className:"w-64"})]}),e.jsxs("div",{className:"flex flex-col space-y-1",children:[e.jsx("label",{className:"text-xs font-medium text-gray-600 dark:text-gray-400 uppercase tracking-wide",children:"Year"}),e.jsx(I,{options:p,value:n.toString(),onChange:m=>l(parseInt(m)),placeholder:"Select Year",className:"w-40"})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx($,{}),e.jsx("button",{className:"btn-secondary text-sm",children:"Export Report"}),e.jsx("button",{className:"btn-primary text-sm",children:"Generate Analysis"})]}),e.jsxs("div",{className:"flex items-center space-x-2 pl-4 border-l border-gray-200 dark:border-gray-700",children:[e.jsx("div",{className:"w-8 h-8 bg-primary-600 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-white font-medium text-sm",children:x?.name.split(" ").map(m=>m[0]).join("").toUpperCase()})}),e.jsxs("div",{className:"text-sm",children:[e.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:x?.name}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400 capitalize",children:x?.role.replace("_"," ")})]}),e.jsx("button",{onClick:u,className:"ml-2 text-gray-400 hover:text-gray-600 dark:text-gray-500 dark:hover:text-gray-300 transition-colors",title:"Sign out",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})})})]})]}),e.jsxs("div",{className:"lg:hidden flex items-center space-x-2",children:[e.jsx($,{size:"sm"}),e.jsxs("button",{type:"button",className:"p-2 rounded-md text-gray-400 hover:text-gray-500 hover:bg-gray-100 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-primary-500",onClick:()=>f(!d),"aria-controls":"mobile-menu","aria-expanded":"false",children:[e.jsx("span",{className:"sr-only",children:"Open main menu"}),d?e.jsx("svg",{className:"block h-6 w-6",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})}):e.jsx("svg",{className:"block h-6 w-6",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"})})]})]})]}),e.jsx("div",{className:`lg:hidden ${d?"block":"hidden"}`,id:"mobile-menu",children:e.jsxs("div",{className:"px-2 pt-2 pb-3 space-y-4 border-t border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-800/50",children:[e.jsxs("div",{className:"flex items-center space-x-3 px-3 py-2",children:[e.jsx("div",{className:"w-10 h-10 bg-primary-600 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-white font-medium",children:x?.name.split(" ").map(m=>m[0]).join("").toUpperCase()})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:x?.name}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 capitalize",children:x?.role.replace("_"," ")})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Hospital"}),e.jsx(I,{options:c,value:s,onChange:t,placeholder:"Select Hospital",className:"w-full"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Year"}),e.jsx(I,{options:p,value:n.toString(),onChange:m=>l(parseInt(m)),placeholder:"Select Year",className:"w-full"})]})]}),e.jsxs("div",{className:"space-y-2 pt-4 border-t border-gray-200 dark:border-gray-700",children:[e.jsxs("button",{className:"w-full btn-secondary text-left justify-start",children:[e.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Export Report"]}),e.jsxs("button",{className:"w-full btn-primary text-left justify-start",children:[e.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),"Generate Analysis"]}),e.jsxs("button",{onClick:u,className:"w-full flex items-center px-3 py-2 text-sm text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-md transition-colors",children:[e.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),"Sign Out"]})]})]})})]})})},b=a=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(a),w=a=>`${a.toFixed(1)}%`,v=a=>new Intl.NumberFormat("en-US").format(a),me=a=>a==="increase"?"text-success-600":"text-danger-600",xe=a=>a==="increase"?"↗":"↘",he=({metric:a})=>{const s=(n,o)=>{switch(o){case"currency":return b(n);case"percentage":return w(n);case"number":return v(n);default:return n.toString()}};return e.jsxs("div",{className:"metric-card",children:[e.jsx("div",{className:"flex items-center justify-between mb-2",children:e.jsx("h3",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:a.title})}),e.jsx("div",{className:"mb-2",children:e.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:s(a.value,a.format)})}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsxs("span",{className:`flex items-center ${me(a.changeType)}`,children:[e.jsx("span",{className:"mr-1",children:xe(a.changeType)}),w(a.change)]}),e.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:a.period})]})]})},ue=({data:a})=>{const s=({active:n,payload:o,label:t})=>n&&o&&o.length?e.jsxs("div",{className:"bg-white p-4 border border-gray-200 rounded-lg shadow-lg",children:[e.jsx("p",{className:"font-medium text-gray-900 mb-2",children:`${t} 2024`}),o.map((l,x)=>e.jsx("p",{className:"text-sm",style:{color:l.color},children:`${l.name}: ${b(l.value)}`},x))]}):null;return e.jsxs("div",{className:"card",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Revenue & Expenses Trend"}),e.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-600 dark:text-gray-300",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-3 h-3 bg-primary-500 rounded-full mr-2"}),e.jsx("span",{children:"Revenue"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-3 h-3 bg-danger-500 rounded-full mr-2"}),e.jsx("span",{children:"Expenses"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-3 h-3 bg-success-500 rounded-full mr-2"}),e.jsx("span",{children:"Net Income"})]})]})]}),e.jsx("div",{className:"h-80",children:e.jsx(E,{width:"100%",height:"100%",children:e.jsxs(G,{data:a,margin:{top:5,right:30,left:20,bottom:5},children:[e.jsx(B,{strokeDasharray:"3 3",stroke:"#f1f5f9"}),e.jsx(W,{dataKey:"month",stroke:"#64748b",fontSize:12}),e.jsx(z,{stroke:"#64748b",fontSize:12,tickFormatter:n=>`$${(n/1e6).toFixed(1)}M`}),e.jsx(D,{content:e.jsx(s,{})}),e.jsx(R,{}),e.jsx(M,{type:"monotone",dataKey:"revenue",stroke:"#3b82f6",strokeWidth:3,name:"Revenue",dot:{fill:"#3b82f6",strokeWidth:2,r:4}}),e.jsx(M,{type:"monotone",dataKey:"expenses",stroke:"#ef4444",strokeWidth:3,name:"Expenses",dot:{fill:"#ef4444",strokeWidth:2,r:4}}),e.jsx(M,{type:"monotone",dataKey:"netIncome",stroke:"#22c55e",strokeWidth:3,name:"Net Income",dot:{fill:"#22c55e",strokeWidth:2,r:4}})]})})})]})},ge=({departments:a})=>e.jsxs("div",{className:"card",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Department Performance"}),e.jsx("button",{className:"btn-secondary text-sm",children:"View Details"})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-gray-200 dark:border-gray-700",children:[e.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-600 dark:text-gray-400",children:"Department"}),e.jsx("th",{className:"text-right py-3 px-4 font-medium text-gray-600 dark:text-gray-400",children:"Revenue"}),e.jsx("th",{className:"text-right py-3 px-4 font-medium text-gray-600 dark:text-gray-400",children:"Expenses"}),e.jsx("th",{className:"text-right py-3 px-4 font-medium text-gray-600 dark:text-gray-400",children:"Profit"}),e.jsx("th",{className:"text-right py-3 px-4 font-medium text-gray-600 dark:text-gray-400",children:"Margin"})]})}),e.jsx("tbody",{children:a.map((s,n)=>e.jsxs("tr",{className:`${n!==a.length-1?"border-b border-gray-100 dark:border-gray-700":""} hover:bg-gray-50 dark:hover:bg-gray-700/50`,children:[e.jsx("td",{className:"py-3 px-4",children:e.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:s.department})}),e.jsx("td",{className:"py-3 px-4 text-right text-gray-900 dark:text-gray-100",children:b(s.revenue)}),e.jsx("td",{className:"py-3 px-4 text-right text-gray-900 dark:text-gray-100",children:b(s.expenses)}),e.jsx("td",{className:"py-3 px-4 text-right",children:e.jsx("span",{className:`font-medium ${s.profit>0?"text-success-600":"text-danger-600"}`,children:b(s.profit)})}),e.jsx("td",{className:"py-3 px-4 text-right",children:e.jsx("span",{className:`font-medium ${s.profitMargin>20?"text-success-600":s.profitMargin>10?"text-warning-600":"text-danger-600"}`,children:w(s.profitMargin)})})]},s.department))})]})})]}),pe=({data:a})=>{const s=({active:o,payload:t})=>{if(o&&t&&t.length){const l=t[0].payload;return e.jsxs("div",{className:"bg-white p-4 border border-gray-200 rounded-lg shadow-lg",children:[e.jsx("p",{className:"font-medium text-gray-900 mb-1",children:l.category}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Amount: ",b(l.amount)]}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Percentage: ",w(l.percentage)]})]})}return null},n=({payload:o})=>o?e.jsx("div",{className:"mt-4",children:e.jsx("div",{className:"grid grid-cols-2 gap-2 text-sm",children:o.map((t,l)=>e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-3 h-3 rounded-full mr-2 flex-shrink-0",style:{backgroundColor:t.color}}),e.jsx("span",{className:"text-gray-700 dark:text-gray-300 truncate",children:t.value})]},l))})}):null;return e.jsxs("div",{className:"card",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Expense Breakdown"}),e.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Total: ",b(a.reduce((o,t)=>o+t.amount,0))]})]}),e.jsx("div",{className:"h-80",children:e.jsx(E,{width:"100%",height:"100%",children:e.jsxs(X,{children:[e.jsx(Q,{data:a,cx:"50%",cy:"45%",outerRadius:80,innerRadius:40,paddingAngle:2,dataKey:"amount",children:a.map((o,t)=>e.jsx(ee,{fill:o.color},`cell-${t}`))}),e.jsx(D,{content:e.jsx(s,{})}),e.jsx(R,{content:e.jsx(n,{})})]})})})]})},fe=({metrics:a})=>{const s=[{label:"Total Patients",value:v(a.totalPatients),icon:"👥",color:"text-primary-600"},{label:"Inpatients",value:v(a.inpatients),icon:"🏥",color:"text-success-600"},{label:"Outpatients",value:v(a.outpatients),icon:"🚶",color:"text-warning-600"},{label:"Emergency Visits",value:v(a.emergencyVisits),icon:"🚨",color:"text-danger-600"},{label:"Avg Stay Duration",value:`${a.averageStayDuration} days`,icon:"📅",color:"text-purple-600"},{label:"Occupancy Rate",value:w(a.occupancyRate),icon:"📊",color:"text-indigo-600"}];return e.jsxs("div",{className:"card",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Patient Metrics"}),e.jsx("button",{className:"btn-secondary text-sm",children:"View Report"})]}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:s.map((n,o)=>e.jsxs("div",{className:"text-center p-4 bg-gray-50 dark:bg-gray-700/50 rounded-lg",children:[e.jsx("div",{className:"text-2xl mb-2",children:n.icon}),e.jsx("div",{className:`text-lg font-bold ${n.color}`,children:n.value}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:n.label})]},o))})]})},ye=({data:a})=>{const s=({active:n,payload:o,label:t})=>n&&o&&o.length?e.jsxs("div",{className:"bg-white p-4 border border-gray-200 rounded-lg shadow-lg",children:[e.jsx("p",{className:"font-medium text-gray-900 mb-2",children:t}),o.map((l,x)=>e.jsx("p",{className:"text-sm",style:{color:l.color},children:`${l.name}: ${b(l.value)}`},x))]}):null;return e.jsxs("div",{className:"card",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Cash Flow Analysis"}),e.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-600 dark:text-gray-300",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-3 h-3 bg-primary-500 rounded-full mr-2"}),e.jsx("span",{children:"Operating"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-3 h-3 bg-warning-500 rounded-full mr-2"}),e.jsx("span",{children:"Investing"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-3 h-3 bg-purple-500 rounded-full mr-2"}),e.jsx("span",{children:"Financing"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-3 h-3 bg-success-500 rounded-full mr-2"}),e.jsx("span",{children:"Net Cash Flow"})]})]})]}),e.jsx("div",{className:"h-80",children:e.jsx(E,{width:"100%",height:"100%",children:e.jsxs(te,{data:a,margin:{top:20,right:30,left:20,bottom:5},children:[e.jsx(B,{strokeDasharray:"3 3",stroke:"#f1f5f9"}),e.jsx(W,{dataKey:"date",stroke:"#64748b",fontSize:12}),e.jsx(z,{stroke:"#64748b",fontSize:12,tickFormatter:n=>`$${(n/1e6).toFixed(1)}M`}),e.jsx(D,{content:e.jsx(s,{})}),e.jsx(R,{}),e.jsx(C,{dataKey:"operatingCashFlow",fill:"#3b82f6",name:"Operating Cash Flow",radius:[2,2,0,0]}),e.jsx(C,{dataKey:"investingCashFlow",fill:"#f59e0b",name:"Investing Cash Flow",radius:[2,2,0,0]}),e.jsx(C,{dataKey:"financingCashFlow",fill:"#8b5cf6",name:"Financing Cash Flow",radius:[2,2,0,0]}),e.jsx(C,{dataKey:"netCashFlow",fill:"#22c55e",name:"Net Cash Flow",radius:[2,2,0,0]})]})})})]})},N=[{id:"general-1",name:"Metro General Hospital",location:"Downtown",type:"General"},{id:"cardio-1",name:"Heart & Vascular Institute",location:"Midtown",type:"Specialty"},{id:"pediatric-1",name:"Children's Medical Center",location:"Westside",type:"Pediatric"},{id:"trauma-1",name:"Regional Trauma Center",location:"Northside",type:"Trauma"}],F=[2021,2022,2023,2024],r=(a,s=15)=>{const n=a*(s/100);return Math.round(a+(Math.random()-.5)*2*n)},J=[];N.forEach(a=>{F.forEach(s=>{const n=s===2024?1:s===2023?.92:s===2022?.85:.78,o=a.type==="General"?1:a.type==="Specialty"?.7:a.type==="Pediatric"?.5:.8,t=n*o,l={hospitalId:a.id,year:s,financialMetrics:[{id:"total-revenue",title:"Total Revenue",value:r(125e5*t),change:r(8.5,50),changeType:Math.random()>.3?"increase":"decrease",period:"vs last month",format:"currency"},{id:"net-profit",title:"Net Profit",value:r(21e5*t),change:r(12.3,60),changeType:Math.random()>.25?"increase":"decrease",period:"vs last month",format:"currency"},{id:"profit-margin",title:"Profit Margin",value:r(16.8,25),change:r(2.1,80),changeType:Math.random()>.4?"increase":"decrease",period:"vs last month",format:"percentage"},{id:"operating-expenses",title:"Operating Expenses",value:r(98e5*t),change:r(3.2,40),changeType:Math.random()>.6?"increase":"decrease",period:"vs last month",format:"currency"}],revenueData:[{month:"Jan",revenue:r(112e5*t),expenses:r(89e5*t),netIncome:r(23e5*t)},{month:"Feb",revenue:r(108e5*t),expenses:r(86e5*t),netIncome:r(22e5*t)},{month:"Mar",revenue:r(121e5*t),expenses:r(92e5*t),netIncome:r(29e5*t)},{month:"Apr",revenue:r(118e5*t),expenses:r(9e6*t),netIncome:r(28e5*t)},{month:"May",revenue:r(128e5*t),expenses:r(96e5*t),netIncome:r(32e5*t)},{month:"Jun",revenue:r(125e5*t),expenses:r(98e5*t),netIncome:r(27e5*t)},{month:"Jul",revenue:r(132e5*t),expenses:r(101e5*t),netIncome:r(31e5*t)},{month:"Aug",revenue:r(129e5*t),expenses:r(99e5*t),netIncome:r(3e6*t)},{month:"Sep",revenue:r(135e5*t),expenses:r(103e5*t),netIncome:r(32e5*t)},{month:"Oct",revenue:r(131e5*t),expenses:r(1e7*t),netIncome:r(31e5*t)},{month:"Nov",revenue:r(127e5*t),expenses:r(97e5*t),netIncome:r(3e6*t)},{month:"Dec",revenue:r(142e5*t),expenses:r(108e5*t),netIncome:r(34e5*t)}],departmentFinances:[{department:"Emergency",revenue:r(32e5*t),expenses:r(24e5*t),profit:r(8e5*t),profitMargin:r(25,30)},{department:"Surgery",revenue:r(45e5*t),expenses:r(31e5*t),profit:r(14e5*t),profitMargin:r(31.1,25)},{department:"Cardiology",revenue:r(28e5*t),expenses:r(19e5*t),profit:r(9e5*t),profitMargin:r(32.1,20)},{department:a.type==="Pediatric"?"Pediatrics":"Oncology",revenue:r(19e5*t),expenses:r(14e5*t),profit:r(5e5*t),profitMargin:r(26.3,35)},{department:a.type==="Trauma"?"Trauma":"Orthopedics",revenue:r(11e5*t),expenses:r(8e5*t),profit:r(3e5*t),profitMargin:r(27.3,40)}],patientMetrics:{totalPatients:r(15420*t,20),inpatients:r(2180*t,25),outpatients:r(11850*t,20),emergencyVisits:r(1390*t,30),averageStayDuration:r(4.2*10,15)/10,occupancyRate:r(87.5,10)},expenseBreakdown:[{category:"Salaries & Benefits",amount:r(52e5*t),percentage:r(53.1,8),color:"#3b82f6"},{category:"Medical Supplies",amount:r(18e5*t),percentage:r(18.4,15),color:"#10b981"},{category:"Equipment",amount:r(12e5*t),percentage:r(12.2,20),color:"#f59e0b"},{category:"Utilities",amount:r(6e5*t),percentage:r(6.1,25),color:"#ef4444"},{category:"Maintenance",amount:r(5e5*t),percentage:r(5.1,30),color:"#8b5cf6"},{category:"Other",amount:r(5e5*t),percentage:r(5.1,35),color:"#6b7280"}],cashFlowData:[{date:`${s}-01`,operatingCashFlow:r(21e5*t),investingCashFlow:r(-8e5*t),financingCashFlow:r(-3e5*t),netCashFlow:r(1e6*t)},{date:`${s}-02`,operatingCashFlow:r(195e4*t),investingCashFlow:r(-2e5*t),financingCashFlow:r(-4e5*t),netCashFlow:r(135e4*t)},{date:`${s}-03`,operatingCashFlow:r(23e5*t),investingCashFlow:r(-12e5*t),financingCashFlow:r(-2e5*t),netCashFlow:r(9e5*t)},{date:`${s}-04`,operatingCashFlow:r(22e5*t),investingCashFlow:r(-3e5*t),financingCashFlow:r(-35e4*t),netCashFlow:r(155e4*t)},{date:`${s}-05`,operatingCashFlow:r(25e5*t),investingCashFlow:r(-15e4*t),financingCashFlow:r(-3e5*t),netCashFlow:r(205e4*t)},{date:`${s}-06`,operatingCashFlow:r(235e4*t),investingCashFlow:r(-6e5*t),financingCashFlow:r(-25e4*t),netCashFlow:r(15e5*t)}]};J.push(l)})});const be=(a,s)=>J.find(n=>n.hospitalId===a&&n.year===s),je=()=>{const{getAccessibleHospitals:a,canAccessHospital:s}=k(),n=a(),o=N.filter(h=>n.includes(h.id)),[t,l]=g.useState(n[0]||""),[x,u]=g.useState(2024),[d,f]=g.useState(null),[c,p]=g.useState(!0);g.useEffect(()=>{if(t&&x){p(!0);const h=setTimeout(()=>{const y=be(t,x);f(y||null),p(!1)},500);return()=>clearTimeout(h)}},[t,x]);const i=h=>{s(h)&&l(h)},m=h=>{u(h)};return c?e.jsxs("div",{className:"text-gray-900 dark:text-gray-100",children:[e.jsx(P,{hospitals:o,selectedHospitalId:t,selectedYear:x,availableYears:F,onHospitalChange:i,onYearChange:m}),e.jsx("main",{className:"p-4 sm:p-6",children:e.jsx("div",{className:"flex items-center justify-center min-h-96",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300 font-medium",children:"Loading dashboard data..."}),e.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:[N.find(h=>h.id===t)?.name," • ",x]})]})})})]}):d?e.jsxs("div",{className:"text-gray-900 dark:text-gray-100",children:[e.jsx(P,{hospitals:o,selectedHospitalId:t,selectedYear:x,availableYears:F,onHospitalChange:i,onYearChange:m}),e.jsxs("main",{className:"p-4 sm:p-6",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Key Financial Metrics"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:d.financialMetrics.map(h=>e.jsx(he,{metric:h},h.id))})]}),e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:e.jsx("div",{className:"lg:col-span-2",children:e.jsx(ue,{data:d.revenueData})})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[e.jsx(pe,{data:d.expenseBreakdown}),e.jsx(ye,{data:d.cashFlowData})]}),e.jsx("div",{className:"mb-8",children:e.jsx(fe,{metrics:d.patientMetrics})}),e.jsx("div",{className:"mb-8",children:e.jsx(ge,{departments:d.departmentFinances})}),e.jsxs("footer",{className:"text-center text-sm text-gray-500 dark:text-gray-400 mt-12 py-6 border-t border-gray-200 dark:border-gray-700",children:[e.jsx("p",{children:"© 2024 Hospital Finance Dashboard. All rights reserved."}),e.jsxs("p",{className:"mt-1",children:["Last updated: ",new Date().toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})]})]})]})]}):e.jsxs("div",{className:"text-gray-900 dark:text-gray-100",children:[e.jsx(P,{hospitals:o,selectedHospitalId:t,selectedYear:x,availableYears:F,onHospitalChange:i,onYearChange:m}),e.jsx("main",{className:"p-4 sm:p-6",children:e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"text-gray-400 mb-4",children:e.jsx("svg",{className:"w-16 h-16 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"No Data Available"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"No financial data found for the selected hospital and year combination."}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-2",children:"Please select a different hospital or year."})]})})]})},ve=({onSwitchToSignUp:a})=>{const[s,n]=g.useState(""),[o,t]=g.useState(""),[l,x]=g.useState(""),[u,d]=g.useState(!1),{signIn:f,isLoading:c}=k(),p=async h=>{h.preventDefault(),x("");try{await f(s,o)}catch(y){x(y instanceof Error?y.message:"An error occurred")}},i=[{role:"Admin",email:"admin@hospitalfinance.com",password:"admin123"},{role:"Hospital Owner",email:"owner@metrogeneral.com",password:"owner123"},{role:"Branch Manager",email:"manager@metrogeneral.com",password:"manager123"}],m=(h,y)=>{n(h),t(y)};return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-primary-50 to-blue-100 dark:from-gray-900 dark:to-slate-900 text-gray-900 dark:text-gray-100 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8 transition-colors duration-200",children:e.jsxs("div",{className:"max-w-md w-full space-y-8",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"mx-auto w-16 h-16 bg-primary-600 rounded-xl flex items-center justify-center mb-4",children:e.jsx("span",{className:"text-white font-bold text-2xl",children:"H"})}),e.jsx("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Welcome back"}),e.jsx("p",{className:"mt-2 text-gray-600 dark:text-gray-300",children:"Sign in to your Hospital Finance Dashboard"})]}),e.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4",children:[e.jsx("h3",{className:"text-sm font-medium text-blue-900 dark:text-blue-200 mb-2",children:"Demo Accounts:"}),e.jsx("div",{className:"space-y-2",children:i.map((h,y)=>e.jsxs("button",{onClick:()=>m(h.email,h.password),className:"block w-full text-left text-xs bg-white dark:bg-gray-800 hover:bg-blue-50 dark:hover:bg-blue-900/40 border border-blue-200 dark:border-blue-700 rounded px-2 py-1 transition-colors",children:[e.jsx("span",{className:"font-medium text-blue-900 dark:text-blue-200",children:h.role}),e.jsx("br",{}),e.jsx("span",{className:"text-blue-700 dark:text-blue-300",children:h.email})]},y))})]}),e.jsxs("form",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-lg p-8 space-y-6",onSubmit:p,children:[l&&e.jsx("div",{className:"bg-danger-50 border border-danger-200 text-danger-700 px-4 py-3 rounded-lg text-sm",children:l}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Email Address"}),e.jsx("input",{id:"email",type:"email",required:!0,value:s,onChange:h=>n(h.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500",placeholder:"Enter your email"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{id:"password",type:u?"text":"password",required:!0,value:o,onChange:h=>t(h.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 pr-10",placeholder:"Enter your password"}),e.jsx("button",{type:"button",onClick:()=>d(!u),className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 dark:text-gray-500 hover:text-gray-600 dark:hover:text-gray-300",children:u?e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.878 9.878L3 3m6.878 6.878L21 21"})}):e.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})]})]}),e.jsx("button",{type:"submit",disabled:c,className:"w-full bg-primary-600 hover:bg-primary-700 disabled:bg-primary-400 text-white font-medium py-2 px-4 rounded-lg transition-colors duration-200 flex items-center justify-center",children:c?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent mr-2"}),"Signing in..."]}):"Sign In"}),e.jsx("div",{className:"text-center",children:e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Don't have an account?"," ",e.jsx("button",{type:"button",onClick:a,className:"text-primary-600 hover:text-primary-700 font-medium",children:"Sign up"})]})})]}),e.jsx("div",{className:"text-center text-xs text-gray-500 dark:text-gray-400",children:e.jsx("p",{children:"© 2024 Hospital Finance Dashboard. All rights reserved."})})]})})},we=({onSwitchToSignIn:a})=>{const[s,n]=g.useState({name:"",email:"",password:"",confirmPassword:"",role:"branch_owner",hospitalId:"",hospitalIds:[]}),[o,t]=g.useState(""),[l,x]=g.useState(!1),{signUp:u,isLoading:d}=k(),f=async i=>{if(i.preventDefault(),t(""),s.password!==s.confirmPassword){t("Passwords do not match");return}if(s.password.length<6){t("Password must be at least 6 characters long");return}if(s.role==="branch_owner"&&!s.hospitalId){t("Please select a hospital for branch manager role");return}if(s.role==="hospital_owner"&&s.hospitalIds.length===0){t("Please select at least one hospital for hospital owner role");return}try{await u({name:s.name,email:s.email,password:s.password,role:s.role,hospitalId:s.role==="branch_owner"?s.hospitalId:void 0,hospitalIds:s.role==="hospital_owner"?s.hospitalIds:void 0})}catch(m){t(m instanceof Error?m.message:"An error occurred")}},c=(i,m)=>{n(h=>({...h,[i]:m}))},p=(i,m)=>{n(m?h=>({...h,hospitalIds:[...h.hospitalIds,i]}):h=>({...h,hospitalIds:h.hospitalIds.filter(y=>y!==i)}))};return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-primary-50 to-blue-100 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"max-w-lg w-full space-y-8",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"mx-auto w-16 h-16 bg-primary-600 rounded-xl flex items-center justify-center mb-4",children:e.jsx("span",{className:"text-white font-bold text-2xl",children:"H"})}),e.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Create Account"}),e.jsx("p",{className:"mt-2 text-gray-600",children:"Join the Hospital Finance Dashboard"})]}),e.jsxs("form",{className:"bg-white rounded-lg shadow-lg p-8 space-y-6",onSubmit:f,children:[o&&e.jsx("div",{className:"bg-danger-50 border border-danger-200 text-danger-700 px-4 py-3 rounded-lg text-sm",children:o}),e.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name"}),e.jsx("input",{id:"name",type:"text",required:!0,value:s.name,onChange:i=>c("name",i.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500",placeholder:"Enter your full name"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),e.jsx("input",{id:"email",type:"email",required:!0,value:s.email,onChange:i=>c("email",i.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500",placeholder:"Enter your email"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{id:"password",type:l?"text":"password",required:!0,value:s.password,onChange:i=>c("password",i.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 pr-10",placeholder:"Create a password"}),e.jsx("button",{type:"button",onClick:()=>x(!l),className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-gray-600",children:l?e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.878 9.878L3 3m6.878 6.878L21 21"})}):e.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm Password"}),e.jsx("input",{id:"confirmPassword",type:"password",required:!0,value:s.confirmPassword,onChange:i=>c("confirmPassword",i.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500",placeholder:"Confirm your password"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Account Type"}),e.jsx("div",{className:"space-y-3",children:Object.keys(A).map(i=>e.jsxs("div",{className:"flex items-start",children:[e.jsx("input",{id:i,type:"radio",name:"role",value:i,checked:s.role===i,onChange:m=>c("role",m.target.value),className:"mt-1 h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300",disabled:i==="admin"}),e.jsxs("div",{className:"ml-3",children:[e.jsxs("label",{htmlFor:i,className:"block text-sm font-medium text-gray-900",children:[A[i].title,i==="admin"&&e.jsx("span",{className:"text-gray-400 ml-2",children:"(Contact admin)"})]}),e.jsx("p",{className:"text-xs text-gray-600",children:A[i].description})]})]},i))})]}),s.role==="branch_owner"&&e.jsxs("div",{children:[e.jsx("label",{htmlFor:"hospitalId",className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Hospital"}),e.jsxs("select",{id:"hospitalId",value:s.hospitalId,onChange:i=>c("hospitalId",i.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500",required:!0,children:[e.jsx("option",{value:"",children:"Choose a hospital..."}),N.map(i=>e.jsxs("option",{value:i.id,children:[i.name," (",i.type," • ",i.location,")"]},i.id))]})]}),s.role==="hospital_owner"&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Hospitals (you can select multiple)"}),e.jsx("div",{className:"space-y-2 max-h-32 overflow-y-auto border border-gray-300 rounded-lg p-3",children:N.map(i=>e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{id:`hospital-${i.id}`,type:"checkbox",checked:s.hospitalIds.includes(i.id),onChange:m=>p(i.id,m.target.checked),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),e.jsxs("label",{htmlFor:`hospital-${i.id}`,className:"ml-2 text-sm text-gray-900",children:[i.name,e.jsxs("span",{className:"text-gray-500 ml-1",children:["(",i.type," • ",i.location,")"]})]})]},i.id))})]}),e.jsx("button",{type:"submit",disabled:d,className:"w-full bg-primary-600 hover:bg-primary-700 disabled:bg-primary-400 text-white font-medium py-2 px-4 rounded-lg transition-colors duration-200 flex items-center justify-center",children:d?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent mr-2"}),"Creating account..."]}):"Create Account"}),e.jsx("div",{className:"text-center",children:e.jsxs("p",{className:"text-sm text-gray-600",children:["Already have an account?"," ",e.jsx("button",{type:"button",onClick:a,className:"text-primary-600 hover:text-primary-700 font-medium",children:"Sign in"})]})})]}),e.jsx("div",{className:"text-center text-xs text-gray-500",children:e.jsx("p",{children:"© 2024 Hospital Finance Dashboard. All rights reserved."})})]})})},Ne=({children:a})=>{const[s,n]=g.useState(!1),{isAuthenticated:o,isLoading:t}=k();return t?e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300 font-medium",children:"Loading..."})]})}):o?e.jsx(e.Fragment,{children:a}):s?e.jsx(we,{onSwitchToSignIn:()=>n(!1)}):e.jsx(ve,{onSwitchToSignUp:()=>n(!0)})};function ke(){return e.jsx(le,{children:e.jsx(de,{children:e.jsx("div",{className:"App min-h-screen bg-gray-50 dark:bg-slate-900 transition-colors duration-200 overflow-visible",children:e.jsx(Ne,{children:e.jsx(je,{})})})})})}oe.createRoot(document.getElementById("root")).render(e.jsx(re.StrictMode,{children:e.jsx(ke,{})}));
