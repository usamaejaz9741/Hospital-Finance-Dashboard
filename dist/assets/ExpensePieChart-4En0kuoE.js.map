{"version":3,"file":"ExpensePieChart-4En0kuoE.js","sources":["../../src/components/ExpensePieChart.tsx"],"sourcesContent":["import React from 'react';\r\nimport { PieChart, Pie, Cell, ResponsiveContainer, Tooltip, Legend } from 'recharts';\r\nimport { ExpenseBreakdown } from '../types/finance';\r\nimport { formatCurrency, formatPercentage } from '../utils/formatters';\r\n// import { useChartTheme } from '../hooks/useChartTheme';\r\nimport ChartNoData from './ChartNoData';\r\n\r\ninterface ExpensePieChartProps {\r\n  data: ExpenseBreakdown[];\r\n}\r\n\r\n/**\r\n * Renders a pie chart displaying the breakdown of expenses.\r\n *\r\n * @param {ExpensePieChartProps} props The component props.\r\n * @param {ExpenseBreakdown[]} props.data The data to display in the chart.\r\n * @returns {React.ReactElement} The rendered pie chart.\r\n */\r\nconst ExpensePieChart: React.FC<ExpensePieChartProps> = ({ data }) => {\r\n  // const { chartTheme } = useChartTheme();\r\n  \r\n  if (!data || data.length === 0) {\r\n    return (\r\n      <div className=\"chart-container\">\r\n        <div className=\"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4 lg:gap-6 mb-6 sm:mb-8\">\r\n          <h2 className=\"mobile-heading-scale font-bold gradient-text\">Expense Breakdown</h2>\r\n        </div>\r\n        <ChartNoData\r\n          title=\"No Data Available\"\r\n          message=\"There is no expense data to display for the selected period.\"\r\n          icon={\r\n            <svg className=\"w-16 h-16\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={1} d=\"M11 3.055A9.001 9.001 0 1020.945 13H11V3.055z\" />\r\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={1} d=\"M20.488 9H15V3.512A9.025 9.025 0 0120.488 9z\" />\r\n            </svg>\r\n          }\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (data.reduce((sum, item) => sum + item.amount, 0) === 0) {\r\n    return (\r\n      <div className=\"chart-container\">\r\n        <div className=\"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4 lg:gap-6 mb-6 sm:mb-8\">\r\n          <h2 className=\"mobile-heading-scale font-bold gradient-text\">Expense Breakdown</h2>\r\n        </div>\r\n        <ChartNoData\r\n          title=\"Zero Expenses\"\r\n          message=\"No expenses have been recorded for the selected period.\"\r\n          icon={\r\n            <svg className=\"w-16 h-16\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={1} d=\"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" />\r\n            </svg>\r\n          }\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  interface TooltipPayload {\r\n    payload: ExpenseBreakdown;\r\n  }\r\n\r\n  interface CustomTooltipProps {\r\n    active?: boolean;\r\n    payload?: TooltipPayload[];\r\n  }\r\n\r\n\r\n\r\n  const CustomTooltip = ({ active, payload }: CustomTooltipProps) => {\r\n    if (active && payload?.[0]?.payload) {\r\n      const data = payload[0].payload;\r\n      return (\r\n        <div className=\"gradient-bg-primary rounded-xl p-4 border border-white/30 backdrop-blur-sm shadow-2xl\">\r\n          <div className=\"text-center\">\r\n            <p className=\"font-semibold text-white mb-2\">{data.category}</p>\r\n            <p className=\"text-2xl font-bold text-white mb-1\">\r\n              {formatCurrency(data.amount)}\r\n            </p>\r\n            <p className=\"text-sm text-white/70\">\r\n              {formatPercentage(data.percentage)} of total\r\n            </p>\r\n          </div>\r\n        </div>\r\n      );\r\n    }\r\n    return null;\r\n  };\r\n\r\n\r\n  return (\r\n    <div className=\"chart-container\">\r\n      <div className=\"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4 lg:gap-6 mb-6 sm:mb-8\">\r\n        <h2 className=\"mobile-heading-scale font-bold gradient-text\">Expense Breakdown</h2>\r\n        <div className=\"lg:flex-shrink-0 flex justify-center lg:justify-start\">\r\n          {/* Highlighted Total */}\r\n          <div className=\"glass-card rounded-lg px-4 py-2 bg-gradient-to-r from-emerald-500/10 to-teal-500/10 border border-emerald-500/30 w-full lg:w-auto text-center lg:text-left\">\r\n            <span className=\"text-sm font-medium text-white/80\">Total: </span>\r\n            <span className=\"text-lg font-bold text-white\">\r\n              {formatCurrency(data.reduce((sum, item) => sum + item.amount, 0))}\r\n            </span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      \r\n      <div className=\"h-96 sm:h-96 lg:h-96 w-full min-w-0\">\r\n        <ResponsiveContainer width=\"100%\" height=\"100%\">\r\n          <PieChart margin={{ top: 0, right: 0, bottom: 0, left: 0 }}>\r\n            <Pie\r\n              data={data}\r\n              cx=\"50%\"\r\n              cy=\"50%\"\r\n              outerRadius=\"95%\"\r\n              innerRadius=\"47%\"\r\n              paddingAngle={2}\r\n              dataKey=\"amount\"\r\n            >\r\n              {data.map((entry, index) => (\r\n                <Cell key={`cell-${index}`} fill={entry.color} />\r\n              ))}\r\n            </Pie>\r\n            <Tooltip content={<CustomTooltip />} />\r\n            <Legend \r\n              wrapperStyle={{\r\n                position: 'absolute',\r\n                bottom: '15px',\r\n                left: '0',\r\n                right: '0',\r\n                width: '100%',\r\n                height: 'auto',\r\n                display: 'flex',\r\n                alignItems: 'center',\r\n                justifyContent: 'center',\r\n                paddingTop: '60px'\r\n              }}\r\n              content={() => (\r\n                <div className=\"w-full flex justify-center\">\r\n                  <div className=\"chart-legend-container\">\r\n                    <div className=\"grid grid-cols-1 sm:grid-cols-3 gap-y-3 sm:gap-y-3 sm:gap-x-6 items-center justify-items-center\">\r\n                      {data.map((entry, index) => (\r\n                        <div key={index} className=\"flex items-center space-x-2\">\r\n                          <div \r\n                            className=\"w-3 h-3 rounded-full flex-shrink-0\" \r\n                            style={{ backgroundColor: entry.color }}\r\n                          />\r\n                          <span className=\"legend-text text-sm font-medium whitespace-nowrap\">\r\n                            {entry.category}\r\n                          </span>\r\n                        </div>\r\n                      ))}\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              )}\r\n            />\r\n          </PieChart>\r\n        </ResponsiveContainer>\r\n      </div>\r\n      \r\n      {/* Redesigned Performance Insight Section - Card Style */}\r\n      <div className=\"mt-6\">\r\n        <div className=\"glass-card rounded-xl mobile-card-padding bg-gradient-to-r from-blue-400/5 to-cyan-500/5 border border-blue-400/30\">\r\n          <div className=\"performance-insight-container\">\r\n            <div className=\"performance-insight-header\">\r\n              <div style={{ \r\n                width: '2rem',\r\n                height: '2rem',\r\n                borderRadius: '50%',\r\n                display: 'flex',\r\n                alignItems: 'center',\r\n                justifyContent: 'center',\r\n                background: 'linear-gradient(135deg, #f59e0b, #d97706)'\r\n              }}>\r\n                <svg className=\"w-4 h-4 text-white\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M11 3.055A9.001 9.001 0 1020.945 13H11V3.055z\" />\r\n                </svg>\r\n              </div>\r\n              <span className=\"performance-insight-title\">Expense Insights</span>\r\n              {/* AI Indicator - Button Style */}\r\n              <button className=\"ml-2 btn-base btn-primary btn-sm\" style={{ padding: '4px 8px', fontSize: 'var(--font-size-xs)', borderRadius: '4px', height: 'auto', minHeight: 'unset' }} aria-label=\"AI-powered insights\">\r\n                <svg className=\"w-3 h-3\" fill=\"currentColor\" viewBox=\"0 0 16 16\">\r\n                  <path d=\"M7.657 6.247c.11-.33.576-.33.686 0l.645 1.937a2.89 2.89 0 0 0 1.829 1.828l1.936.645c.33.11.33.576 0 .686l-1.937.645a2.89 2.89 0 0 0-1.828 1.829l-.645 1.936a.361.361 0 0 1-.686 0l-.645-1.937a2.89 2.89 0 0 0-1.828-1.828l-1.937-.645a.361.361 0 0 1 0-.686l1.937-.645a2.89 2.89 0 0 0 1.828-1.828zM3.794 1.148a.217.217 0 0 1 .412 0l.387 1.162c.173.518.579.924 1.097 1.097l1.162.387a.217.217 0 0 1 0 .412l-1.162.387A1.73 1.73 0 0 0 4.593 5.69l-.387 1.162a.217.217 0 0 1-.412 0L3.407 5.69A1.73 1.73 0 0 0 2.31 4.593l-1.162-.387a.217.217 0 0 1 0-.412l1.162-.387A1.73 1.73 0 0 0 3.407 2.31zM10.863.099a.145.145 0 0 1 .274 0l.258.774c.115.346.386.617.732.732l.774.258a.145.145 0 0 1 0 .274l-.774.258a1.16 1.16 0 0 0-.732.732l-.258.774a.145.145 0 0 1-.274 0l-.258-.774a1.16 1.16 0 0 0-.732-.732L9.1 2.137a.145.145 0 0 1 0-.274l.774-.258c.346-.115.617-.386.732-.732z\"/>\r\n                </svg>\r\n                <span className=\"ml-1 text-xs font-medium\">AI</span>\r\n              </button>\r\n            </div>\r\n            <div className=\"performance-insight-grid\">\r\n              <div className=\"performance-insight-card amber\">\r\n                <div className=\"performance-insight-card-value\">45%</div>\r\n                <div className=\"performance-insight-card-label\">Largest Category</div>\r\n                <div className=\"performance-insight-card-context\">Salaries & Benefits</div>\r\n              </div>\r\n              <div className=\"performance-insight-card red\">\r\n                <div className=\"performance-insight-card-value\">+3.2%</div>\r\n                <div className=\"performance-insight-card-label\">Expense Growth</div>\r\n                <div className=\"performance-insight-card-context\">vs Last Year</div>\r\n              </div>\r\n              <div className=\"performance-insight-card green\">\r\n                <div className=\"performance-insight-card-value\">$2.8M</div>\r\n                <div className=\"performance-insight-card-label\">Cost Savings</div>\r\n                <div className=\"performance-insight-card-context\">Efficiency Gains</div>\r\n              </div>\r\n              <div className=\"performance-insight-card cyan\">\r\n                <div className=\"performance-insight-card-value\">87%</div>\r\n                <div className=\"performance-insight-card-label\">Budget Utilization</div>\r\n                <div className=\"performance-insight-card-context\">Well Managed</div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ExpensePieChart;\r\n"],"names":["ExpensePieChart","data","length","jsxs","className","children","jsx","ChartNoData","title","message","icon","fill","stroke","viewBox","strokeLinecap","strokeLinejoin","strokeWidth","d","reduce","sum","item","amount","CustomTooltip","active","payload","category","formatCurrency","formatPercentage","percentage","ResponsiveContainer","width","height","PieChart","margin","top","right","bottom","left","Pie","cx","cy","outerRadius","innerRadius","paddingAngle","dataKey","map","entry","index","Cell","color","Tooltip","content","Legend","wrapperStyle","position","display","alignItems","justifyContent","paddingTop","style","backgroundColor","borderRadius","background","padding","fontSize","minHeight"],"mappings":"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"}